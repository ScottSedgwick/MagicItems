// Generated by purs version 0.15.15
import * as $foreign from "./foreign.js";
import * as Effect_Uncurried from "../Effect.Uncurried/index.js";
import * as Flame_Application_Internal_Dom from "../Flame.Application.Internal.Dom/index.js";
import * as Flame_Types from "../Flame.Types/index.js";
import * as Foreign from "../Foreign/index.js";
var createSubscription = function (updater) {
    return function (v) {
        if (v.value0 instanceof Flame_Types.Window) {
            return Flame_Application_Internal_Dom.createWindowListener(v.value1.value0)(function ($13) {
                return updater(v.value1.value1.value0($13));
            });
        };
        if (v.value0 instanceof Flame_Types.Document) {
            return Flame_Application_Internal_Dom.createDocumentListener(v.value1.value0)(function ($14) {
                return updater(v.value1.value1.value0($14));
            });
        };
        if (v.value0 instanceof Flame_Types.Custom) {
            return Flame_Application_Internal_Dom.createCustomListener(v.value1.value0)(function ($15) {
                return updater(v.value1.value1.value0($15));
            });
        };
        throw new Error("Failed pattern match at Flame.Subscription.Internal.Listener (line 31, column 83 - line 34, column 75): " + [ v.value0.constructor.name ]);
    };
};
var checkApplicationId = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.checkApplicationId_);
var createMessageListener = function (appId) {
    return function (updater) {
        return function __do() {
            checkApplicationId(appId)();
            return Flame_Application_Internal_Dom.createCustomListener(appId)(function ($16) {
                return updater(Foreign.unsafeFromForeign($16));
            })();
        };
    };
};
export {
    createMessageListener,
    createSubscription
};
