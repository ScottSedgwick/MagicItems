(()=>{var arrayApply=function(fs){return function(xs){var l=fs.length;var k=xs.length;var result=new Array(l*k);var n=0;for(var i=0;i<l;i++){var f=fs[i];for(var j=0;j<k;j++){result[n++]=f(xs[j])}}return result}};var semigroupoidFn={compose:function(f){return function(g){return function(x){return f(g(x))}}}};var identity=function(dict){return dict.identity};var categoryFn={identity:function(x){return x},Semigroupoid0:function(){return semigroupoidFn}};var otherwise=true;var flip=function(f){return function(b){return function(a){return f(a)(b)}}};var $$const=function(a){return function(v){return a}};var arrayMap=function(f){return function(arr){var l=arr.length;var result=new Array(l);for(var i=0;i<l;i++){result[i]=f(arr[i])}return result}};var unit=void 0;var map=function(dict){return dict.map};var $$void=function(dictFunctor){return map(dictFunctor)($$const(unit))};var functorArray={map:arrayMap};var identity2=identity(categoryFn);var applyArray={apply:arrayApply,Functor0:function(){return functorArray}};var apply=function(dict){return dict.apply};var applySecond=function(dictApply){var apply1=apply(dictApply);var map6=map(dictApply.Functor0());return function(a){return function(b){return apply1(map6($$const(identity2))(a))(b)}}};var pure=function(dict){return dict.pure};var when=function(dictApplicative){var pure1=pure(dictApplicative);return function(v){return function(v1){if(v){return v1}if(!v){return pure1(unit)}throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[v.constructor.name,v1.constructor.name])}}};var liftA1=function(dictApplicative){var apply2=apply(dictApplicative.Apply0());var pure1=pure(dictApplicative);return function(f){return function(a){return apply2(pure1(f))(a)}}};var concatArray=function(xs){return function(ys){if(xs.length===0)return ys;if(ys.length===0)return xs;return xs.concat(ys)}};var semigroupArray={append:concatArray};var append=function(dict){return dict.append};var topChar=String.fromCharCode(65535);var bottomChar=String.fromCharCode(0);var topNumber=Number.POSITIVE_INFINITY;var bottomNumber=Number.NEGATIVE_INFINITY;var unsafeCompareImpl=function(lt){return function(eq2){return function(gt){return function(x){return function(y){return x<y?lt:x===y?eq2:gt}}}}};var ordStringImpl=unsafeCompareImpl;var ordCharImpl=unsafeCompareImpl;var refEq=function(r1){return function(r2){return r1===r2}};var eqCharImpl=refEq;var eqStringImpl=refEq;var eqString={eq:eqStringImpl};var eqChar={eq:eqCharImpl};var eq=function(dict){return dict.eq};var LT=function(){function LT2(){}LT2.value=new LT2;return LT2}();var GT=function(){function GT2(){}GT2.value=new GT2;return GT2}();var EQ=function(){function EQ2(){}EQ2.value=new EQ2;return EQ2}();var intSub=function(x){return function(y){return x-y|0}};var intAdd=function(x){return function(y){return x+y|0}};var intMul=function(x){return function(y){return x*y|0}};var semiringInt={add:intAdd,zero:0,mul:intMul,one:1};var ringInt={sub:intSub,Semiring0:function(){return semiringInt}};var ordString=function(){return{compare:ordStringImpl(LT.value)(EQ.value)(GT.value),Eq0:function(){return eqString}}}();var ordChar=function(){return{compare:ordCharImpl(LT.value)(EQ.value)(GT.value),Eq0:function(){return eqChar}}}();var compare=function(dict){return dict.compare};var top=function(dict){return dict.top};var boundedChar={top:topChar,bottom:bottomChar,Ord0:function(){return ordChar}};var bottom=function(dict){return dict.bottom};var showStringImpl=function(s){var l=s.length;return'"'+s.replace(/[\0-\x1F\x7F"\\]/g,(function(c,i){switch(c){case'"':case"\\":return"\\"+c;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var k=i+1;var empty4=k<l&&s[k]>="0"&&s[k]<="9"?"\\&":"";return"\\"+c.charCodeAt(0).toString(10)+empty4}))+'"'};var showUnit={show:function(v){return"unit"}};var showString={show:showStringImpl};var show=function(dict){return dict.show};var Nothing=function(){function Nothing2(){}Nothing2.value=new Nothing2;return Nothing2}();var Just=function(){function Just2(value0){this.value0=value0}Just2.create=function(value0){return new Just2(value0)};return Just2}();var maybe=function(v){return function(v1){return function(v2){if(v2 instanceof Nothing){return v}if(v2 instanceof Just){return v1(v2.value0)}throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[v.constructor.name,v1.constructor.name,v2.constructor.name])}}};var isJust=maybe(false)($$const(true));var functorMaybe={map:function(v){return function(v1){if(v1 instanceof Just){return new Just(v(v1.value0))}return Nothing.value}}};var fromJust=function(){return function(v){if(v instanceof Just){return v.value0}throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[v.constructor.name])}};var eqMaybe=function(dictEq){var eq2=eq(dictEq);return{eq:function(x){return function(y){if(x instanceof Nothing&&y instanceof Nothing){return true}if(x instanceof Just&&y instanceof Just){return eq2(x.value0)(y.value0)}return false}}}};var Left=function(){function Left2(value0){this.value0=value0}Left2.create=function(value0){return new Left2(value0)};return Left2}();var Right=function(){function Right2(value0){this.value0=value0}Right2.create=function(value0){return new Right2(value0)};return Right2}();var foldrArray=function(f){return function(init4){return function(xs){var acc=init4;var len=xs.length;for(var i=len-1;i>=0;i--){acc=f(xs[i])(acc)}return acc}}};var foldlArray=function(f){return function(init4){return function(xs){var acc=init4;var len=xs.length;for(var i=0;i<len;i++){acc=f(acc)(xs[i])}return acc}}};var arrayBind=typeof Array.prototype.flatMap==="function"?function(arr){return function(f){return arr.flatMap(f)}}:function(arr){return function(f){var result=[];var l=arr.length;for(var i=0;i<l;i++){var xs=f(arr[i]);var k=xs.length;for(var j=0;j<k;j++){result.push(xs[j])}}return result}};var bindArray={bind:arrayBind,Apply0:function(){return applyArray}};var bind=function(dict){return dict.bind};var bindFlipped=function(dictBind){return flip(bind(dictBind))};var boolConj=function(b1){return function(b2){return b1&&b2}};var boolDisj=function(b1){return function(b2){return b1||b2}};var boolNot=function(b){return!b};var not=function(dict){return dict.not};var disj=function(dict){return dict.disj};var heytingAlgebraBoolean={ff:false,tt:true,implies:function(a){return function(b){return disj(heytingAlgebraBoolean)(not(heytingAlgebraBoolean)(a))(b)}},conj:boolConj,disj:boolDisj,not:boolNot};var intDegree=function(x){return Math.min(Math.abs(x),2147483647)};var intDiv=function(x){return function(y){if(y===0)return 0;return y>0?Math.floor(x/y):-Math.floor(x/-y)}};var intMod=function(x){return function(y){if(y===0)return 0;var yy=Math.abs(y);return(x%yy+yy)%yy}};var commutativeRingInt={Ring0:function(){return ringInt}};var mod=function(dict){return dict.mod};var euclideanRingInt={degree:intDegree,div:intDiv,mod:intMod,CommutativeRing0:function(){return commutativeRingInt}};var div=function(dict){return dict.div};var mempty=function(dict){return dict.mempty};var Tuple=function(){function Tuple2(value0,value1){this.value0=value0;this.value1=value1}Tuple2.create=function(value0){return function(value1){return new Tuple2(value0,value1)}};return Tuple2}();var unsafeCoerce2=function(x){return x};var foldr=function(dict){return dict.foldr};var traverse_=function(dictApplicative){var applySecond2=applySecond(dictApplicative.Apply0());var pure4=pure(dictApplicative);return function(dictFoldable){var foldr2=foldr(dictFoldable);return function(f){return foldr2((function($454){return applySecond2(f($454))}))(pure4(unit))}}};var for_=function(dictApplicative){var traverse_1=traverse_(dictApplicative);return function(dictFoldable){return flip(traverse_1(dictFoldable))}};var foldMapDefaultR=function(dictFoldable){var foldr2=foldr(dictFoldable);return function(dictMonoid){var append3=append(dictMonoid.Semigroup0());var mempty2=mempty(dictMonoid);return function(f){return foldr2((function(x){return function(acc){return append3(f(x))(acc)}}))(mempty2)}}};var foldableArray={foldr:foldrArray,foldl:foldlArray,foldMap:function(dictMonoid){return foldMapDefaultR(foldableArray)(dictMonoid)}};var pureE=function(a){return function(){return a}};var bindE=function(a){return function(f){return function(){return f(a())()}}};var ap=function(dictMonad){var bind2=bind(dictMonad.Bind1());var pure4=pure(dictMonad.Applicative0());return function(f){return function(a){return bind2(f)((function(f$prime){return bind2(a)((function(a$prime){return pure4(f$prime(a$prime))}))}))}}};var $runtime_lazy=function(name2,moduleName,init4){var state2=0;var val;return function(lineNumber){if(state2===2)return val;if(state2===1)throw new ReferenceError(name2+" was needed before it finished initializing (module "+moduleName+", line "+lineNumber+")",moduleName,lineNumber);state2=1;val=init4();state2=2;return val}};var monadEffect={Applicative0:function(){return applicativeEffect},Bind1:function(){return bindEffect}};var bindEffect={bind:bindE,Apply0:function(){return $lazy_applyEffect(0)}};var applicativeEffect={pure:pureE,Apply0:function(){return $lazy_applyEffect(0)}};var $lazy_functorEffect=$runtime_lazy("functorEffect","Effect",(function(){return{map:liftA1(applicativeEffect)}}));var $lazy_applyEffect=$runtime_lazy("applyEffect","Effect",(function(){return{apply:ap(monadEffect),Functor0:function(){return $lazy_functorEffect(0)}}}));var functorEffect=$lazy_functorEffect(20);var Aff=function(){var EMPTY={};var PURE="Pure";var THROW="Throw";var CATCH="Catch";var SYNC="Sync";var ASYNC="Async";var BIND="Bind";var BRACKET="Bracket";var FORK="Fork";var SEQ="Sequential";var MAP="Map";var APPLY="Apply";var ALT="Alt";var CONS="Cons";var RESUME="Resume";var RELEASE="Release";var FINALIZER="Finalizer";var FINALIZED="Finalized";var FORKED="Forked";var FIBER="Fiber";var THUNK="Thunk";function Aff2(tag,_1,_2,_3){this.tag=tag;this._1=_1;this._2=_2;this._3=_3}function AffCtr(tag){var fn=function(_1,_2,_3){return new Aff2(tag,_1,_2,_3)};fn.tag=tag;return fn}function nonCanceler(error3){return new Aff2(PURE,void 0)}function runEff(eff){try{eff()}catch(error3){setTimeout((function(){throw error3}),0)}}function runSync(left,right,eff){try{return right(eff())}catch(error3){return left(error3)}}function runAsync(left,eff,k){try{return eff(k)()}catch(error3){k(left(error3))();return nonCanceler}}var Scheduler=function(){var limit=1024;var size3=0;var ix=0;var queue=new Array(limit);var draining=false;function drain(){var thunk;draining=true;while(size3!==0){size3--;thunk=queue[ix];queue[ix]=void 0;ix=(ix+1)%limit;thunk()}draining=false}return{isDraining:function(){return draining},enqueue:function(cb){var i,tmp;if(size3===limit){tmp=draining;drain();draining=tmp}queue[(ix+size3)%limit]=cb;size3++;if(!draining){drain()}}}}();function Supervisor(util){var fibers={};var fiberId=0;var count=0;return{register:function(fiber){var fid=fiberId++;fiber.onComplete({rethrow:true,handler:function(result){return function(){count--;delete fibers[fid]}}})();fibers[fid]=fiber;count++},isEmpty:function(){return count===0},killAll:function(killError,cb){return function(){if(count===0){return cb()}var killCount=0;var kills={};function kill(fid){kills[fid]=fibers[fid].kill(killError,(function(result){return function(){delete kills[fid];killCount--;if(util.isLeft(result)&&util.fromLeft(result)){setTimeout((function(){throw util.fromLeft(result)}),0)}if(killCount===0){cb()}}}))()}for(var k in fibers){if(fibers.hasOwnProperty(k)){killCount++;kill(k)}}fibers={};fiberId=0;count=0;return function(error3){return new Aff2(SYNC,(function(){for(var k2 in kills){if(kills.hasOwnProperty(k2)){kills[k2]()}}}))}}}}}var SUSPENDED=0;var CONTINUE=1;var STEP_BIND=2;var STEP_RESULT=3;var PENDING=4;var RETURN=5;var COMPLETED=6;function Fiber(util,supervisor,aff){var runTick=0;var status=SUSPENDED;var step=aff;var fail=null;var interrupt=null;var bhead=null;var btail=null;var attempts=null;var bracketCount=0;var joinId=0;var joins=null;var rethrow=true;function run4(localRunTick){var tmp,result,attempt;while(true){tmp=null;result=null;attempt=null;switch(status){case STEP_BIND:status=CONTINUE;try{step=bhead(step);if(btail===null){bhead=null}else{bhead=btail._1;btail=btail._2}}catch(e){status=RETURN;fail=util.left(e);step=null}break;case STEP_RESULT:if(util.isLeft(step)){status=RETURN;fail=step;step=null}else if(bhead===null){status=RETURN}else{status=STEP_BIND;step=util.fromRight(step)}break;case CONTINUE:switch(step.tag){case BIND:if(bhead){btail=new Aff2(CONS,bhead,btail)}bhead=step._2;status=CONTINUE;step=step._1;break;case PURE:if(bhead===null){status=RETURN;step=util.right(step._1)}else{status=STEP_BIND;step=step._1}break;case SYNC:status=STEP_RESULT;step=runSync(util.left,util.right,step._1);break;case ASYNC:status=PENDING;step=runAsync(util.left,step._1,(function(result2){return function(){if(runTick!==localRunTick){return}runTick++;Scheduler.enqueue((function(){if(runTick!==localRunTick+1){return}status=STEP_RESULT;step=result2;run4(runTick)}))}}));return;case THROW:status=RETURN;fail=util.left(step._1);step=null;break;case CATCH:if(bhead===null){attempts=new Aff2(CONS,step,attempts,interrupt)}else{attempts=new Aff2(CONS,step,new Aff2(CONS,new Aff2(RESUME,bhead,btail),attempts,interrupt),interrupt)}bhead=null;btail=null;status=CONTINUE;step=step._1;break;case BRACKET:bracketCount++;if(bhead===null){attempts=new Aff2(CONS,step,attempts,interrupt)}else{attempts=new Aff2(CONS,step,new Aff2(CONS,new Aff2(RESUME,bhead,btail),attempts,interrupt),interrupt)}bhead=null;btail=null;status=CONTINUE;step=step._1;break;case FORK:status=STEP_RESULT;tmp=Fiber(util,supervisor,step._2);if(supervisor){supervisor.register(tmp)}if(step._1){tmp.run()}step=util.right(tmp);break;case SEQ:status=CONTINUE;step=sequential2(util,supervisor,step._1);break}break;case RETURN:bhead=null;btail=null;if(attempts===null){status=COMPLETED;step=interrupt||fail||step}else{tmp=attempts._3;attempt=attempts._1;attempts=attempts._2;switch(attempt.tag){case CATCH:if(interrupt&&interrupt!==tmp&&bracketCount===0){status=RETURN}else if(fail){status=CONTINUE;step=attempt._2(util.fromLeft(fail));fail=null}break;case RESUME:if(interrupt&&interrupt!==tmp&&bracketCount===0||fail){status=RETURN}else{bhead=attempt._1;btail=attempt._2;status=STEP_BIND;step=util.fromRight(step)}break;case BRACKET:bracketCount--;if(fail===null){result=util.fromRight(step);attempts=new Aff2(CONS,new Aff2(RELEASE,attempt._2,result),attempts,tmp);if(interrupt===tmp||bracketCount>0){status=CONTINUE;step=attempt._3(result)}}break;case RELEASE:attempts=new Aff2(CONS,new Aff2(FINALIZED,step,fail),attempts,interrupt);status=CONTINUE;if(interrupt&&interrupt!==tmp&&bracketCount===0){step=attempt._1.killed(util.fromLeft(interrupt))(attempt._2)}else if(fail){step=attempt._1.failed(util.fromLeft(fail))(attempt._2)}else{step=attempt._1.completed(util.fromRight(step))(attempt._2)}fail=null;bracketCount++;break;case FINALIZER:bracketCount++;attempts=new Aff2(CONS,new Aff2(FINALIZED,step,fail),attempts,interrupt);status=CONTINUE;step=attempt._1;break;case FINALIZED:bracketCount--;status=RETURN;step=attempt._1;fail=attempt._2;break}}break;case COMPLETED:for(var k in joins){if(joins.hasOwnProperty(k)){rethrow=rethrow&&joins[k].rethrow;runEff(joins[k].handler(step))}}joins=null;if(interrupt&&fail){setTimeout((function(){throw util.fromLeft(fail)}),0)}else if(util.isLeft(step)&&rethrow){setTimeout((function(){if(rethrow){throw util.fromLeft(step)}}),0)}return;case SUSPENDED:status=CONTINUE;break;case PENDING:return}}}function onComplete(join3){return function(){if(status===COMPLETED){rethrow=rethrow&&join3.rethrow;join3.handler(step)();return function(){}}var jid=joinId++;joins=joins||{};joins[jid]=join3;return function(){if(joins!==null){delete joins[jid]}}}}function kill(error3,cb){return function(){if(status===COMPLETED){cb(util.right(void 0))();return function(){}}var canceler=onComplete({rethrow:false,handler:function(){return cb(util.right(void 0))}})();switch(status){case SUSPENDED:interrupt=util.left(error3);status=COMPLETED;step=interrupt;run4(runTick);break;case PENDING:if(interrupt===null){interrupt=util.left(error3)}if(bracketCount===0){if(status===PENDING){attempts=new Aff2(CONS,new Aff2(FINALIZER,step(error3)),attempts,interrupt)}status=RETURN;step=null;fail=null;run4(++runTick)}break;default:if(interrupt===null){interrupt=util.left(error3)}if(bracketCount===0){status=RETURN;step=null;fail=null}}return canceler}}function join2(cb){return function(){var canceler=onComplete({rethrow:false,handler:cb})();if(status===SUSPENDED){run4(runTick)}return canceler}}return{kill:kill,join:join2,onComplete:onComplete,isSuspended:function(){return status===SUSPENDED},run:function(){if(status===SUSPENDED){if(!Scheduler.isDraining()){Scheduler.enqueue((function(){run4(runTick)}))}else{run4(runTick)}}}}}function runPar(util,supervisor,par,cb){var fiberId=0;var fibers={};var killId=0;var kills={};var early=new Error("[ParAff] Early exit");var interrupt=null;var root=EMPTY;function kill(error3,par2,cb2){var step=par2;var head2=null;var tail2=null;var count=0;var kills2={};var tmp,kid;loop:while(true){tmp=null;switch(step.tag){case FORKED:if(step._3===EMPTY){tmp=fibers[step._1];kills2[count++]=tmp.kill(error3,(function(result){return function(){count--;if(count===0){cb2(result)()}}}))}if(head2===null){break loop}step=head2._2;if(tail2===null){head2=null}else{head2=tail2._1;tail2=tail2._2}break;case MAP:step=step._2;break;case APPLY:case ALT:if(head2){tail2=new Aff2(CONS,head2,tail2)}head2=step;step=step._1;break}}if(count===0){cb2(util.right(void 0))()}else{kid=0;tmp=count;for(;kid<tmp;kid++){kills2[kid]=kills2[kid]()}}return kills2}function join2(result,head2,tail2){var fail,step,lhs,rhs,tmp,kid;if(util.isLeft(result)){fail=result;step=null}else{step=result;fail=null}loop:while(true){lhs=null;rhs=null;tmp=null;kid=null;if(interrupt!==null){return}if(head2===null){cb(fail||step)();return}if(head2._3!==EMPTY){return}switch(head2.tag){case MAP:if(fail===null){head2._3=util.right(head2._1(util.fromRight(step)));step=head2._3}else{head2._3=fail}break;case APPLY:lhs=head2._1._3;rhs=head2._2._3;if(fail){head2._3=fail;tmp=true;kid=killId++;kills[kid]=kill(early,fail===lhs?head2._2:head2._1,(function(){return function(){delete kills[kid];if(tmp){tmp=false}else if(tail2===null){join2(fail,null,null)}else{join2(fail,tail2._1,tail2._2)}}}));if(tmp){tmp=false;return}}else if(lhs===EMPTY||rhs===EMPTY){return}else{step=util.right(util.fromRight(lhs)(util.fromRight(rhs)));head2._3=step}break;case ALT:lhs=head2._1._3;rhs=head2._2._3;if(lhs===EMPTY&&util.isLeft(rhs)||rhs===EMPTY&&util.isLeft(lhs)){return}if(lhs!==EMPTY&&util.isLeft(lhs)&&rhs!==EMPTY&&util.isLeft(rhs)){fail=step===lhs?rhs:lhs;step=null;head2._3=fail}else{head2._3=step;tmp=true;kid=killId++;kills[kid]=kill(early,step===lhs?head2._2:head2._1,(function(){return function(){delete kills[kid];if(tmp){tmp=false}else if(tail2===null){join2(step,null,null)}else{join2(step,tail2._1,tail2._2)}}}));if(tmp){tmp=false;return}}break}if(tail2===null){head2=null}else{head2=tail2._1;tail2=tail2._2}}}function resolve(fiber){return function(result){return function(){delete fibers[fiber._1];fiber._3=result;join2(result,fiber._2._1,fiber._2._2)}}}function run4(){var status=CONTINUE;var step=par;var head2=null;var tail2=null;var tmp,fid;loop:while(true){tmp=null;fid=null;switch(status){case CONTINUE:switch(step.tag){case MAP:if(head2){tail2=new Aff2(CONS,head2,tail2)}head2=new Aff2(MAP,step._1,EMPTY,EMPTY);step=step._2;break;case APPLY:if(head2){tail2=new Aff2(CONS,head2,tail2)}head2=new Aff2(APPLY,EMPTY,step._2,EMPTY);step=step._1;break;case ALT:if(head2){tail2=new Aff2(CONS,head2,tail2)}head2=new Aff2(ALT,EMPTY,step._2,EMPTY);step=step._1;break;default:fid=fiberId++;status=RETURN;tmp=step;step=new Aff2(FORKED,fid,new Aff2(CONS,head2,tail2),EMPTY);tmp=Fiber(util,supervisor,tmp);tmp.onComplete({rethrow:false,handler:resolve(step)})();fibers[fid]=tmp;if(supervisor){supervisor.register(tmp)}}break;case RETURN:if(head2===null){break loop}if(head2._1===EMPTY){head2._1=step;status=CONTINUE;step=head2._2;head2._2=EMPTY}else{head2._2=step;step=head2;if(tail2===null){head2=null}else{head2=tail2._1;tail2=tail2._2}}}}root=step;for(fid=0;fid<fiberId;fid++){fibers[fid].run()}}function cancel(error3,cb2){interrupt=util.left(error3);var innerKills;for(var kid in kills){if(kills.hasOwnProperty(kid)){innerKills=kills[kid];for(kid in innerKills){if(innerKills.hasOwnProperty(kid)){innerKills[kid]()}}}}kills=null;var newKills=kill(error3,root,cb2);return function(killError){return new Aff2(ASYNC,(function(killCb){return function(){for(var kid2 in newKills){if(newKills.hasOwnProperty(kid2)){newKills[kid2]()}}return nonCanceler}}))}}run4();return function(killError){return new Aff2(ASYNC,(function(killCb){return function(){return cancel(killError,killCb)}}))}}function sequential2(util,supervisor,par){return new Aff2(ASYNC,(function(cb){return function(){return runPar(util,supervisor,par,cb)}}))}Aff2.EMPTY=EMPTY;Aff2.Pure=AffCtr(PURE);Aff2.Throw=AffCtr(THROW);Aff2.Catch=AffCtr(CATCH);Aff2.Sync=AffCtr(SYNC);Aff2.Async=AffCtr(ASYNC);Aff2.Bind=AffCtr(BIND);Aff2.Bracket=AffCtr(BRACKET);Aff2.Fork=AffCtr(FORK);Aff2.Seq=AffCtr(SEQ);Aff2.ParMap=AffCtr(MAP);Aff2.ParApply=AffCtr(APPLY);Aff2.ParAlt=AffCtr(ALT);Aff2.Fiber=Fiber;Aff2.Supervisor=Supervisor;Aff2.Scheduler=Scheduler;Aff2.nonCanceler=nonCanceler;return Aff2}();var _pure=Aff.Pure;var _throwError=Aff.Throw;function _catchError(aff){return function(k){return Aff.Catch(aff,k)}}function _map(f){return function(aff){if(aff.tag===Aff.Pure.tag){return Aff.Pure(f(aff._1))}else{return Aff.Bind(aff,(function(value2){return Aff.Pure(f(value2))}))}}}function _bind(aff){return function(k){return Aff.Bind(aff,k)}}var _liftEffect=Aff.Sync;var makeAff=Aff.Async;function _makeFiber(util,aff){return function(){return Aff.Fiber(util,null,aff)}}var _delay=function(){function setDelay(n,k){if(n===0&&typeof setImmediate!=="undefined"){return setImmediate(k)}else{return setTimeout(k,n)}}function clearDelay(n,t){if(n===0&&typeof clearImmediate!=="undefined"){return clearImmediate(t)}else{return clearTimeout(t)}}return function(right,ms){return Aff.Async((function(cb){return function(){var timer=setDelay(ms,cb(right()));return function(){return Aff.Sync((function(){return right(clearDelay(ms,timer))}))}}}))}}();var _sequential=Aff.Seq;function error(msg){return new Error(msg)}function message(e){return e.message}function throwException(e){return function(){throw e}}var $$throw=function($4){return throwException(error($4))};var catchError=function(dict){return dict.catchError};var $$try=function(dictMonadError){var catchError1=catchError(dictMonadError);var Monad0=dictMonadError.MonadThrow0().Monad0();var map6=map(Monad0.Bind1().Apply0().Functor0());var pure4=pure(Monad0.Applicative0());return function(a){return catchError1(map6(Right.create)(a))((function($52){return pure4(Left.create($52))}))}};var _new=function(val){return function(){return{value:val}}};var read=function(ref){return function(){return ref.value}};var write=function(val){return function(ref){return function(){ref.value=val}}};var $$new=_new;var liftEffect=function(dict){return dict.liftEffect};var traverseArrayImpl=function(){function array1(a){return[a]}function array2(a){return function(b){return[a,b]}}function array3(a){return function(b){return function(c){return[a,b,c]}}}function concat2(xs){return function(ys){return xs.concat(ys)}}return function(apply2){return function(map6){return function(pure4){return function(f){return function(array){function go(bot,top2){switch(top2-bot){case 0:return pure4([]);case 1:return map6(array1)(f(array[bot]));case 2:return apply2(map6(array2)(f(array[bot])))(f(array[bot+1]));case 3:return apply2(apply2(map6(array3)(f(array[bot])))(f(array[bot+1])))(f(array[bot+2]));default:var pivot=bot+Math.floor((top2-bot)/4)*2;return apply2(map6(concat2)(go(bot,pivot)))(go(pivot,top2))}}return go(0,array.length)}}}}}}();var _unsafePartial=function(f){return f()};var _crashWith=function(msg){throw new Error(msg)};var crashWith=function(){return _crashWith};var crashWith2=crashWith();var unsafePartial=_unsafePartial;var unsafeCrashWith=function(msg){return unsafePartial((function(){return crashWith2(msg)}))};var $runtime_lazy2=function(name2,moduleName,init4){var state2=0;var val;return function(lineNumber){if(state2===2)return val;if(state2===1)throw new ReferenceError(name2+" was needed before it finished initializing (module "+moduleName+", line "+lineNumber+")",moduleName,lineNumber);state2=1;val=init4();state2=2;return val}};var $$void2=$$void(functorEffect);var functorAff={map:_map};var ffiUtil=function(){var unsafeFromRight=function(v){if(v instanceof Right){return v.value0}if(v instanceof Left){return unsafeCrashWith("unsafeFromRight: Left")}throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): "+[v.constructor.name])};var unsafeFromLeft=function(v){if(v instanceof Left){return v.value0}if(v instanceof Right){return unsafeCrashWith("unsafeFromLeft: Right")}throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): "+[v.constructor.name])};var isLeft=function(v){if(v instanceof Left){return true}if(v instanceof Right){return false}throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): "+[v.constructor.name])};return{isLeft:isLeft,fromLeft:unsafeFromLeft,fromRight:unsafeFromRight,left:Left.create,right:Right.create}}();var makeFiber=function(aff){return _makeFiber(ffiUtil,aff)};var launchAff=function(aff){return function __do(){var fiber=makeFiber(aff)();fiber.run();return fiber}};var monadAff={Applicative0:function(){return applicativeAff},Bind1:function(){return bindAff}};var bindAff={bind:_bind,Apply0:function(){return $lazy_applyAff(0)}};var applicativeAff={pure:_pure,Apply0:function(){return $lazy_applyAff(0)}};var $lazy_applyAff=$runtime_lazy2("applyAff","Effect.Aff",(function(){return{apply:ap(monadAff),Functor0:function(){return functorAff}}}));var bindFlipped2=bindFlipped(bindAff);var monadEffectAff={liftEffect:_liftEffect,Monad0:function(){return monadAff}};var liftEffect2=liftEffect(monadEffectAff);var monadThrowAff={throwError:_throwError,Monad0:function(){return monadAff}};var monadErrorAff={catchError:_catchError,MonadThrow0:function(){return monadThrowAff}};var $$try2=$$try(monadErrorAff);var runAff=function(k){return function(aff){return launchAff(bindFlipped2((function($83){return liftEffect2(k($83))}))($$try2(aff)))}};var runAff_=function(k){return function(aff){return $$void2(runAff(k)(aff))}};var log=function(s){return function(){console.log(s)}};function querySelector_(selector){return document.querySelector(selector)}function createWindowListener_(eventName,updater){window.addEventListener(eventName,(function(event){updater(event)()}))}function createDocumentListener_(eventName,updater){document.addEventListener(eventName,(function(event){updater(event)()}))}function createCustomListener_(eventName,updater){document.addEventListener(eventName,(function(event){updater(event.detail)()}))}function nullable(a,r,f){return a==null?r:f(a)}var toMaybe=function(n){return nullable(n,Nothing.value,Just.create)};var runEffectFn1=function runEffectFn12(fn){return function(a){return function(){return fn(a)}}};var runEffectFn2=function runEffectFn22(fn){return function(a){return function(b){return function(){return fn(a,b)}}}};var runEffectFn4=function runEffectFn42(fn){return function(a){return function(b){return function(c){return function(d){return function(){return fn(a,b,c,d)}}}}}};var querySelector=function(selector){return function __do(){var selected2=querySelector_(selector);return toMaybe(selected2)}};var createWindowListener=runEffectFn2(createWindowListener_);var createDocumentListener=runEffectFn2(createDocumentListener_);var createCustomListener=runEffectFn2(createCustomListener_);var regexImpl=function(left){return function(right){return function(s1){return function(s2){try{return right(new RegExp(s1,s2))}catch(e){return left(e.message)}}}}};var _replaceBy=function(just){return function(nothing){return function(r){return function(f){return function(s){return s.replace(r,(function(match){var groups=[];var group4,i=1;while(typeof(group4=arguments[i++])!=="number"){groups.push(group4==null?nothing:just(group4))}return f(match)(groups)}))}}}}};var singleton=function(c){return c};var length=function(s){return s.length};var _indexOf=function(just){return function(nothing){return function(x){return function(s){var i=s.indexOf(x);return i===-1?nothing:just(i)}}}};var drop=function(n){return function(s){return s.substring(n)}};var charAt=function(i){return function(s){if(i>=0&&i<s.length)return s.charAt(i);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var indexOf=function(){return _indexOf(Just.create)(Nothing.value)}();var contains=function(pat){var $23=indexOf(pat);return function($24){return isJust($23($24))}};var split=function(sep){return function(s){return s.split(sep)}};var toLower=function(s){return s.toLowerCase()};var toUpper=function(s){return s.toUpperCase()};var $$null=function(s){return s===""};var global={global:true,ignoreCase:false,multiline:false,dotAll:false,sticky:false,unicode:false};var replace$prime=function(){return _replaceBy(Just.create)(Nothing.value)}();var renderFlags=function(v){return function(){if(v.global){return"g"}return""}()+(function(){if(v.ignoreCase){return"i"}return""}()+(function(){if(v.multiline){return"m"}return""}()+(function(){if(v.dotAll){return"s"}return""}()+(function(){if(v.sticky){return"y"}return""}()+function(){if(v.unicode){return"u"}return""}()))))};var regex=function(s){return function(f){return regexImpl(Left.create)(Right.create)(s)(renderFlags(f))}};var classData=2;var propertyData=3;var attributeData=4;function createProperty(name2){return function(value2){return[propertyData,name2,value2]}}function createAttribute(name2){return function(value2){return[attributeData,name2,value2]}}function createClass(array){return[classData,array]}var replicateFill=function(count,value2){if(count<1){return[]}var result=new Array(count);return result.fill(value2)};var replicatePolyfill=function(count,value2){var result=[];var n=0;for(var i=0;i<count;i++){result[n++]=value2}return result};var replicateImpl=typeof Array.prototype.fill==="function"?replicateFill:replicatePolyfill;var fromFoldableImpl=function(){function Cons2(head2,tail2){this.head=head2;this.tail=tail2}var emptyList={};function curryCons(head2){return function(tail2){return new Cons2(head2,tail2)}}function listToArray(list){var result=[];var count=0;var xs=list;while(xs!==emptyList){result[count++]=xs.head;xs=xs.tail}return result}return function(foldr2,xs){return listToArray(foldr2(curryCons)(emptyList)(xs))}}();var filterImpl=function(f,xs){return xs.filter(f)};var sortByImpl=function(){function mergeFromTo(compare3,fromOrdering,xs1,xs2,from3,to3){var mid;var i;var j;var k;var x;var y;var c;mid=from3+(to3-from3>>1);if(mid-from3>1)mergeFromTo(compare3,fromOrdering,xs2,xs1,from3,mid);if(to3-mid>1)mergeFromTo(compare3,fromOrdering,xs2,xs1,mid,to3);i=from3;j=mid;k=from3;while(i<mid&&j<to3){x=xs2[i];y=xs2[j];c=fromOrdering(compare3(x)(y));if(c>0){xs1[k++]=y;++j}else{xs1[k++]=x;++i}}while(i<mid){xs1[k++]=xs2[i++]}while(j<to3){xs1[k++]=xs2[j++]}}return function(compare3,fromOrdering,xs){var out;if(xs.length<2)return xs;out=xs.slice(0);mergeFromTo(compare3,fromOrdering,out,xs.slice(0),0,xs.length);return out}}();var sortByImpl2=function(){function mergeFromTo(compare3,fromOrdering,xs1,xs2,from3,to3){var mid;var i;var j;var k;var x;var y;var c;mid=from3+(to3-from3>>1);if(mid-from3>1)mergeFromTo(compare3,fromOrdering,xs2,xs1,from3,mid);if(to3-mid>1)mergeFromTo(compare3,fromOrdering,xs2,xs1,mid,to3);i=from3;j=mid;k=from3;while(i<mid&&j<to3){x=xs2[i];y=xs2[j];c=fromOrdering(compare3(x)(y));if(c>0){xs1[k++]=y;++j}else{xs1[k++]=x;++i}}while(i<mid){xs1[k++]=xs2[i++]}while(j<to3){xs1[k++]=xs2[j++]}}return function(compare3,fromOrdering,xs){if(xs.length<2)return xs;mergeFromTo(compare3,fromOrdering,xs,xs.slice(0),0,xs.length);return xs}}();var runFn2=function(fn){return function(a){return function(b){return fn(a,b)}}};var runFn3=function(fn){return function(a){return function(b){return function(c){return fn(a,b,c)}}}};var sortBy=function(comp){return runFn3(sortByImpl)(comp)((function(v){if(v instanceof GT){return 1}if(v instanceof EQ){return 0}if(v instanceof LT){return-1|0}throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): "+[v.constructor.name])}))};var singleton3=function(a){return[a]};var filter=runFn2(filterImpl);var concatMap=flip(bind(bindArray));var hasArrayFrom=typeof Array.from==="function";var hasStringIterator=typeof Symbol!=="undefined"&&Symbol!=null&&typeof Symbol.iterator!=="undefined"&&typeof String.prototype[Symbol.iterator]==="function";var hasFromCodePoint=typeof String.prototype.fromCodePoint==="function";var hasCodePointAt=typeof String.prototype.codePointAt==="function";var _singleton=function(fallback){return hasFromCodePoint?String.fromCodePoint:fallback};function toCharCode(c){return c.charCodeAt(0)}function fromCharCode(c){return String.fromCharCode(c)}var bottom1=bottom(boundedChar);var top1=top(boundedChar);var toEnum=function(dict){return dict.toEnum};var fromEnum=function(dict){return dict.fromEnum};var toEnumWithDefaults=function(dictBoundedEnum){var toEnum1=toEnum(dictBoundedEnum);var fromEnum1=fromEnum(dictBoundedEnum);var bottom2=bottom(dictBoundedEnum.Bounded0());return function(low){return function(high){return function(x){var v=toEnum1(x);if(v instanceof Just){return v.value0}if(v instanceof Nothing){var $140=x<fromEnum1(bottom2);if($140){return low}return high}throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[v.constructor.name])}}}};var defaultSucc=function(toEnum$prime){return function(fromEnum$prime){return function(a){return toEnum$prime(fromEnum$prime(a)+1|0)}}};var defaultPred=function(toEnum$prime){return function(fromEnum$prime){return function(a){return toEnum$prime(fromEnum$prime(a)-1|0)}}};var charToEnum=function(v){if(v>=toCharCode(bottom1)&&v<=toCharCode(top1)){return new Just(fromCharCode(v))}return Nothing.value};var enumChar={succ:defaultSucc(charToEnum)(toCharCode),pred:defaultPred(charToEnum)(toCharCode),Ord0:function(){return ordChar}};var boundedEnumChar=function(){return{cardinality:toCharCode(top1)-toCharCode(bottom1)|0,toEnum:charToEnum,fromEnum:toCharCode,Bounded0:function(){return boundedChar},Enum1:function(){return enumChar}}}();var fromEnum2=fromEnum(boundedEnumChar);var div2=div(euclideanRingInt);var mod2=mod(euclideanRingInt);var unsurrogate=function(lead){return function(trail){return(((lead-55296|0)*1024|0)+(trail-56320|0)|0)+65536|0}};var isTrail=function(cu){return 56320<=cu&&cu<=57343};var isLead=function(cu){return 55296<=cu&&cu<=56319};var uncons=function(s){var v=length(s);if(v===0){return Nothing.value}if(v===1){return new Just({head:fromEnum2(charAt(0)(s)),tail:""})}var cu1=fromEnum2(charAt(1)(s));var cu0=fromEnum2(charAt(0)(s));var $43=isLead(cu0)&&isTrail(cu1);if($43){return new Just({head:unsurrogate(cu0)(cu1),tail:drop(2)(s)})}return new Just({head:cu0,tail:drop(1)(s)})};var fromCharCode2=function(){var $75=toEnumWithDefaults(boundedEnumChar)(bottom(boundedChar))(top(boundedChar));return function($76){return singleton($75($76))}}();var singletonFallback=function(v){if(v<=65535){return fromCharCode2(v)}var lead=div2(v-65536|0)(1024)+55296|0;var trail=mod2(v-65536|0)(1024)+56320|0;return fromCharCode2(lead)+fromCharCode2(trail)};var singleton4=_singleton(singletonFallback);function toArrayWithKey(f){return function(m){var r=[];for(var k in m){if(hasOwnProperty.call(m,k)){r.push(f(k)(m[k]))}}return r}}var keys=Object.keys||toArrayWithKey((function(k){return function(){return k}}));var fromJust2=fromJust();var crashWith3=crashWith();var show2=show(showString);var map2=map(functorArray);var toClassListString={to:function(){var $46=filter(function(){var $49=not(heytingAlgebraBoolean);return function($50){return $49($$null($50))}}());var $47=split(" ");return function($48){return $46($47($48))}}()};var width=createAttribute("width");var value=createProperty("value");var type$prime=createProperty("type");var to=function(dict){return dict.to};var id=createProperty("id");var $$for=createAttribute("for");var caseify=function(name$prime){if(name$prime===toUpper(name$prime)){return toLower(name$prime)}if(otherwise){var v=fromJust2(uncons(name$prime));var replacer=function($133){return $$const(function(v1){return"-"+v1}(toLower($133)))};var regex2=function(){var v1=regex("[A-Z]")(global);if(v1 instanceof Right){return v1.value0}if(v1 instanceof Left){return crashWith3(show2(v1.value0))}throw new Error("Failed pattern match at Flame.Html.Attribute.Internal (line 90, column 40 - line 92, column 57): "+[v1.constructor.name])}();var hyphenated=replace$prime(regex2)(replacer)(v.tail);return toLower(singleton4(v.head))+hyphenated}throw new Error("Failed pattern match at Flame.Html.Attribute.Internal (line 83, column 1 - line 83, column 26): "+[name$prime.constructor.name])};var class$prime=function(dictToClassList){var $134=map2(caseify);var $135=to(dictToClassList);return function($136){return createClass($134($135($136)))}};var booleanToFalsyString=function(v){if(v){return"true"}if(!v){return""}throw new Error("Failed pattern match at Flame.Html.Attribute.Internal (line 66, column 7 - line 68, column 23): "+[v.constructor.name])};var selected=function(){var $170=createProperty("selected");return function($171){return $170(booleanToFalsyString($171))}}();var textNode=1;var elementNode=2;var styleData=1;var classData2=2;var propertyData2=3;var attributeData2=4;var keyData=7;function createElementNode(tag){return function(nodeData){return function(potentialChildren){let children=potentialChildren,text2=void 0;if(potentialChildren.length===1&&potentialChildren[0].nodeType==textNode){children=void 0;text2=potentialChildren[0].text}return{nodeType:elementNode,node:void 0,tag:tag,nodeData:fromNodeData(nodeData),children:children,text:text2}}}}function createDatalessElementNode(tag){return function(potentialChildren){let children=potentialChildren,text2=void 0;if(potentialChildren.length===1&&potentialChildren[0].nodeType==textNode){children=void 0;text2=potentialChildren[0].text}return{nodeType:elementNode,node:void 0,tag:tag,nodeData:{},children:children,text:text2}}}function createSingleElementNode(tag){return function(nodeData){return{nodeType:elementNode,node:void 0,tag:tag,nodeData:fromNodeData(nodeData)}}}function text(value2){return{nodeType:textNode,node:void 0,text:value2}}function fromNodeData(allData){let nodeData={};if(allData!==void 0)for(let data of allData){let dataOne=data[1];switch(data[0]){case styleData:if(nodeData.styles===void 0)nodeData.styles={};for(let key in dataOne)nodeData.styles[key]=dataOne[key];break;case classData2:if(nodeData.classes===void 0)nodeData.classes=[];nodeData.classes=nodeData.classes.concat(dataOne);break;case propertyData2:if(nodeData.properties===void 0)nodeData.properties={};nodeData.properties[dataOne]=data[2];break;case attributeData2:if(nodeData.attributes===void 0)nodeData.attributes={};nodeData.attributes[dataOne]=data[2];break;case keyData:nodeData.key=dataOne;break;default:if(nodeData.events===void 0)nodeData.events={};if(nodeData.events[dataOne]===void 0)nodeData.events[dataOne]=[];nodeData.events[dataOne].push(data[2])}}return nodeData}var toNodeStringNodeData={toNode:function($776){return singleton3(id($776))}};var toNodeStringHtml={toNode:function($777){return singleton3(text($777))}};var toNodeNodeDataNodeData={toNode:singleton3};var toNodeHtmlHtml={toNode:singleton3};var toNode=function(dict){return dict.toNode};var toNodeArray=function(dictToNode){return{toNode:concatMap(toNode(dictToNode))}};var createElement_=function(tag){return function(dictToNode){var toNode1=toNode(dictToNode);return function(children){return createDatalessElementNode(tag)(toNode1(children))}}};var details_=function(dictToNode){return createElement_("details")(dictToNode)};var div_=function(dictToNode){return createElement_("div")(dictToNode)};var em_=function(dictToNode){return createElement_("em")(dictToNode)};var h6_=function(dictToNode){return createElement_("h6")(dictToNode)};var hr_=function(dictToNode){return createElement_("hr")(dictToNode)};var strong_=function(dictToNode){return createElement_("strong")(dictToNode)};var summary_=function(dictToNode){return createElement_("summary")(dictToNode)};var createElement$prime=function(tag){return function(dictToNode){var toNode1=toNode(dictToNode);return function(nodeData){return createSingleElementNode(tag)(toNode1(nodeData))}}};var input=function(dictToNode){return createElement$prime("input")(dictToNode)};var createElement=function(tag){return function(dictToNode){var toNode1=toNode(dictToNode);return function(dictToNode1){var toNode2=toNode(dictToNode1);return function(nodeData){return function(children){return createElementNode(tag)(toNode1(nodeData))(toNode2(children))}}}}};var div3=function(dictToNode){return function(dictToNode1){return createElement("div")(dictToNode)(dictToNode1)}};var label=function(dictToNode){return function(dictToNode1){return createElement("label")(dictToNode)(dictToNode1)}};var main=function(dictToNode){return function(dictToNode1){return createElement("main")(dictToNode)(dictToNode1)}};var option=function(dictToNode){return function(dictToNode1){return createElement("option")(dictToNode)(dictToNode1)}};var select=function(dictToNode){return function(dictToNode1){return createElement("select")(dictToNode)(dictToNode1)}};var article_=function(dictToNode){return createElement_("article")(dictToNode)};var reUnescapedHtml=/[&<>"']/g;var reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var traverse1Impl=function(){function Cont(fn){this.fn=fn}var emptyList={};var ConsCell=function(head2,tail2){this.head=head2;this.tail=tail2};function finalCell(head2){return new ConsCell(head2,emptyList)}function consList(x){return function(xs){return new ConsCell(x,xs)}}function listToArray(list){var arr=[];var xs=list;while(xs!==emptyList){arr.push(xs.head);xs=xs.tail}return arr}return function(apply2,map6,f){var buildFrom=function(x,ys){return apply2(map6(consList)(f(x)))(ys)};var go=function(acc,currentLen,xs){if(currentLen===0){return acc}else{var last3=xs[currentLen-1];return new Cont((function(){var built=go(buildFrom(last3,acc),currentLen-1,xs);return built}))}};return function(array){var acc=map6(finalCell)(f(array[array.length-1]));var result=go(acc,array.length-1,array);while(result instanceof Cont){result=result.fn()}return map6(listToArray)(result)}}}();function compareReference(a){return function(b){return a===b}}var modelHasChanged=function(old){return function($$new2){return!compareReference(old)($$new2)}};var namespace="http://www.w3.org/2000/svg";var eventPrefix="__flame_";var eventPostfix="updater";var textNode2=1;var elementNode2=2;var svgNode=3;var fragmentNode=4;var lazyNode=5;var managedNode=6;var nonBubblingEvents=["focus","blur","scroll","load","unload"];function start_(eventWrapper,root,updater,html){return new F(eventWrapper,root,updater,html,false)}function startFrom_(eventWrapper,root,updater,html){return new F(eventWrapper,root,updater,html,true)}function resume_(f,html){f.resume(html)}function F(eventWrapper,root,updater,html,isDry){this.eventWrapper=eventWrapper;this.applicationEvents=new Map;this.root=root;this.updater=updater;this.cachedHtml=html.node===void 0?html:shallowCopy(html);if(isDry)this.hydrate(this.root,this.cachedHtml);else this.createAllNodes(this.root,this.cachedHtml)}F.prototype.hydrate=function(parent,html,referenceNode){switch(html.nodeType){case lazyNode:html.node=parent;html.rendered=html.render(html.arg);html.render=void 0;this.hydrate(parent,html.rendered);break;case textNode2:html.node=parent;break;case managedNode:this.createAllNodes(parent,html,referenceNode);break;default:if(html.nodeType===fragmentNode)html.node=document.createDocumentFragment();else{html.node=parent;if(html.nodeData.events!==void 0)this.createAllEvents(parent,html)}let htmlChildrenLength;if(html.text===void 0&&html.children!==void 0&&(htmlChildrenLength=html.children.length)>0){let childNodes=parent.childNodes;for(let i=0,cni=0;i<htmlChildrenLength;++i,++cni){let c=html.children[i]=html.children[i].node===void 0?html.children[i]:shallowCopy(html.children[i]);if(childNodes[cni]===void 0)this.createAllNodes(parent,c);else{if(c.nodeType===fragmentNode){let fragmentChildrenLength=c.children.length;c.node=document.createDocumentFragment();for(let j=0;j<fragmentChildrenLength;++j){let cf=c.children[j]=c.children[j].node===void 0?c.children[j]:shallowCopy(c.children[j]);this.hydrate(childNodes[cni++],cf)}cni--}else if(c.nodeType===managedNode)this.hydrate(parent,c,childNodes[cni]);else this.hydrate(childNodes[cni],c)}}}}};function shallowCopy(origin){switch(origin.nodeType){case textNode2:return{nodeType:textNode2,node:void 0,text:origin.text};case fragmentNode:return{nodeType:fragmentNode,node:void 0,children:origin.children};case lazyNode:return{nodeType:lazyNode,node:void 0,nodeData:origin.nodeData,render:origin.render,arg:origin.arg,rendered:void 0,messageMapper:origin.messageMapper};case managedNode:return{nodeType:managedNode,node:void 0,nodeData:origin.nodeData,createNode:origin.createNode,updateNode:origin.updateNode,arg:origin.arg,messageMapper:origin.messageMapper};default:return{nodeType:origin.nodeType,node:void 0,tag:origin.tag,nodeData:origin.nodeData,children:origin.children,text:origin.text,messageMapper:origin.messageMapper}}}F.prototype.createAllNodes=function(parent,html,referenceNode){let node=this.createNode(html);if(html.text!==void 0)node.textContent=html.text;else{if(html.children!==void 0)this.createChildrenNodes(node,html.children);else if(html.rendered!==void 0){if(html.messageMapper!==void 0)lazyMessageMap(html.messageMapper,html.rendered);if(html.rendered.text!==void 0){node.textContent=html.rendered.text}else if(html.rendered.children!==void 0)this.createChildrenNodes(node,html.rendered.children)}}parent.insertBefore(node,referenceNode)};F.prototype.checkCreateAllNodes=function(parent,html,referenceNode){if(html.node!==void 0)html=shallowCopy(html);this.createAllNodes(parent,html,referenceNode);return html};F.prototype.createChildrenNodes=function(parent,children){let childrenLength=children.length;for(let i=0;i<childrenLength;++i){let html=children[i]=children[i].node===void 0?children[i]:shallowCopy(children[i]);this.checkCreateAllNodes(parent,html,null)}};F.prototype.createNode=function(html){switch(html.nodeType){case lazyNode:html.rendered=html.render(html.arg);html.render=void 0;return html.node=this.createNode(html.rendered);case textNode2:return html.node=document.createTextNode(html.text);case elementNode2:return html.node=this.createElement(html);case svgNode:return html.node=this.createSvg(html);case fragmentNode:return html.node=document.createDocumentFragment();case managedNode:return html.node=this.createManagedNode(html)}};F.prototype.createElement=function(html){let element=document.createElement(html.tag);this.createNodeData(element,html,false);return element};F.prototype.createSvg=function(html){let svg=document.createElementNS(namespace,html.tag);this.createNodeData(svg,html,true);return svg};F.prototype.createManagedNode=function(html){let node=html.createNode(html.arg)();html.createNode=void 0;this.createNodeData(node,html,node instanceof SVGElement||node.nodeName.toLowerCase()==="svg");return node};F.prototype.createNodeData=function(node,html,isSvg){if(html.nodeData.styles!==void 0)createStyles(node,html.nodeData.styles);if(html.nodeData.classes!==void 0&&html.nodeData.classes.length>0)createClasses(node,html.nodeData.classes,isSvg);if(html.nodeData.attributes!==void 0)createAttributes(node,html.nodeData.attributes);if(html.nodeData.properties!==void 0)for(let key in html.nodeData.properties)node[key]=html.nodeData.properties[key];if(html.nodeData.events!==void 0)this.createAllEvents(node,html)};function createStyles(node,styles){for(let key in styles)node.style.setProperty(key,styles[key])}function createClasses(node,classes,isSvg){let joined=classes.join(" ");if(isSvg)node.setAttribute("class",joined);else node.className=joined}function createAttributes(node,attributes){for(let key in attributes)node.setAttribute(key,attributes[key])}F.prototype.createAllEvents=function(node,html){for(let key in html.nodeData.events)this.createEvent(node,key,html)};F.prototype.createEvent=function(node,name2,html){let handlers=html.nodeData.events[name2],eventKey=eventPrefix+name2;if(nonBubblingEvents.includes(name2)){let runNonBubblingEvent=this.runNonBubblingEvent(handlers,html.messageMapper);node[eventKey]=runNonBubblingEvent;node.addEventListener(name2,runNonBubblingEvent,false)}else{node[eventKey]=handlers;if(html.messageMapper!==void 0)node[eventKey+eventPostfix]=html.messageMapper;let synthetic=this.applicationEvents.get(name2);if(synthetic===void 0){let runEvent=this.runEvent.bind(this);this.root.addEventListener(name2,runEvent,false);this.applicationEvents.set(name2,{count:1,handler:runEvent})}else synthetic.count++}};F.prototype.runNonBubblingEvent=function(handlers,messageMapper2){return function(event){this.runHandlers(handlers,messageMapper2,event)}.bind(this)};F.prototype.runEvent=function(event){let node=event.target,eventKey=eventPrefix+event.type;while(node!==this.root){let handlers=node[eventKey];if(handlers!==void 0){this.runHandlers(handlers,node[eventKey+eventPostfix],event);return}node=node.parentNode}};F.prototype.runHandlers=function(handlers,messageMapper2,event){let handlersLength=handlers.length;for(let i=0;i<handlersLength;++i){let h=handlers[i],maybeMessage=typeof h==="function"?h(event)():this.eventWrapper(h);this.updater(messageMapper2===void 0?maybeMessage:messageMapper2(maybeMessage))()}event.stopPropagation()};F.prototype.resume=function(updatedHtml){this.cachedHtml=this.updateAllNodes(this.root,this.cachedHtml,updatedHtml)};F.prototype.updateAllNodes=function(parent,currentHtml2,updatedHtml){if(updatedHtml.node!==void 0)updatedHtml=shallowCopy(updatedHtml);if(currentHtml2.tag!==updatedHtml.tag||currentHtml2.nodeType!==updatedHtml.nodeType){if(currentHtml2.nodeType===fragmentNode){this.createAllNodes(parent,updatedHtml,firstFragmentChildNode(currentHtml2.children));removeFragmentChildren(parent,currentHtml2.children)}else{this.createAllNodes(parent,updatedHtml,currentHtml2.node);parent.removeChild(currentHtml2.node)}}else{updatedHtml.node=currentHtml2.node;switch(updatedHtml.nodeType){case lazyNode:if(updatedHtml.arg!==currentHtml2.arg){updatedHtml.rendered=updatedHtml.render(updatedHtml.arg);if(updatedHtml.messageMapper!==void 0)lazyMessageMap(updatedHtml.messageMapper,updatedHtml.rendered);this.updateAllNodes(parent,currentHtml2.rendered,updatedHtml.rendered)}else updatedHtml.rendered=currentHtml2.rendered;updatedHtml.render=void 0;break;case managedNode:let node=updatedHtml.updateNode(currentHtml2.node)(currentHtml2.arg)(updatedHtml.arg)(),isSvg=node instanceof SVGElement||node.nodeName.toLowerCase()==="svg";if(node!==currentHtml2.node||node.nodeType!==currentHtml2.node.nodeType||node.nodeName!==currentHtml2.node.nodeName){this.createNodeData(node,updatedHtml,isSvg);parent.insertBefore(node,currentHtml2.node);parent.removeChild(currentHtml2.node)}else this.updateNodeData(node,currentHtml2.nodeData,updatedHtml,isSvg);updatedHtml.node=node;break;case textNode2:if(updatedHtml.text!==currentHtml2.text)updatedHtml.node.textContent=updatedHtml.text;break;case fragmentNode:this.updateChildrenNodes(parent,currentHtml2,updatedHtml);break;default:this.updateNodeData(currentHtml2.node,currentHtml2.nodeData,updatedHtml,updatedHtml.nodeType==svgNode);if((updatedHtml.text!==void 0||updatedHtml.children===void 0&&currentHtml2.text!=void 0)&&!hasInnerHtml(updatedHtml.nodeData)&&updatedHtml.text!=currentHtml2.node.textContent)currentHtml2.node.textContent=updatedHtml.text;else this.updateChildrenNodes(currentHtml2.node,currentHtml2,updatedHtml)}}return updatedHtml};function firstFragmentChildNode(children){let childrenLength=children.length;for(let i=0;i<childrenLength;++i){if(children[i].nodeType===fragmentNode)return firstFragmentChildNode(children[i].children);return children[i].node}return void 0}function removeFragmentChildren(parent,children){let childrenLength=children.length;for(let i=0;i<childrenLength;++i)if(children[i].nodeType===fragmentNode)removeFragmentChildren(children[i].children);else parent.removeChild(children[i].node)}function clearNode(node){node.textContent=""}F.prototype.updateChildrenNodes=function(parent,currentHtml2,updatedHtml){let currentChildren=currentHtml2.children,updatedChildren=updatedHtml.children;if(currentChildren===void 0||currentChildren.length===0){let updatedChildrenLength;if(updatedChildren!==void 0&&(updatedChildrenLength=updatedChildren.length)>0){if(currentHtml2.text!==void 0||hasInnerHtml(currentHtml2.nodeData))clearNode(parent);for(let i=0;i<updatedChildrenLength;++i)updatedChildren[i]=this.checkCreateAllNodes(parent,updatedChildren[i])}}else if(updatedChildren===void 0||updatedChildren.length===0){if(currentChildren!==void 0&&(currentChildren.length>0||currentHtml2.text!==void 0)&&!hasInnerHtml(updatedHtml.nodeData))clearNode(parent)}else if(currentChildren[0].nodeData!==void 0&&currentChildren[0].nodeData.key!==void 0&&updatedChildren[0].nodeData!==void 0&&updatedChildren[0].nodeData.key!==void 0)this.updateKeyedChildrenNodes(parent,currentChildren,updatedChildren);else this.updateNonKeyedChildrenNodes(parent,currentChildren,updatedChildren)};function hasInnerHtml(parentNodeData){return parentNodeData!==void 0&&parentNodeData.properties!==void 0&&parentNodeData.properties.innerHTML!==void 0}F.prototype.updateKeyedChildrenNodes=function(parent,currentChildren,updatedChildren){let currentStart=0,updatedStart=0,currentEnd=currentChildren.length-1,updatedEnd=updatedChildren.length-1;let afterNode,currentStartNode=currentChildren[currentStart].node,updatedStartNode=currentStartNode,currentEndNode=currentChildren[currentEnd].node;let loop=true;fixes:while(loop){loop=false;let currentHtml2=currentChildren[currentStart],updatedHtml=updatedChildren[updatedStart];while(currentHtml2.nodeData.key===updatedHtml.nodeData.key){updatedHtml=this.updateAllNodes(parent,currentHtml2,updatedHtml);updatedStartNode=currentStartNode=currentHtml2.node.nextSibling;currentStart++;updatedStart++;if(currentEnd<currentStart||updatedEnd<updatedStart)break fixes;currentHtml2=currentChildren[currentStart];updatedHtml=updatedChildren[updatedStart]}currentHtml2=currentChildren[currentEnd];updatedHtml=updatedChildren[updatedEnd];while(currentHtml2.nodeData.key===updatedHtml.nodeData.key){updatedHtml=this.updateAllNodes(parent,currentHtml2,updatedHtml);afterNode=currentEndNode;currentEndNode=currentEndNode.previousSibling;currentEnd--;updatedEnd--;if(currentEnd<currentStart||updatedEnd<updatedStart)break fixes;currentHtml2=currentChildren[currentEnd];updatedHtml=updatedChildren[updatedEnd]}currentHtml2=currentChildren[currentEnd];updatedHtml=updatedChildren[updatedStart];while(currentHtml2.nodeData.key===updatedHtml.nodeData.key){loop=true;updatedHtml=this.updateAllNodes(parent,currentHtml2,updatedHtml);currentEndNode=currentHtml2.node.previousSibling;parent.insertBefore(currentHtml2.node,updatedStartNode);updatedStart++;currentEnd--;if(currentEnd<currentStart||updatedEnd<updatedStart)break fixes;currentHtml2=currentChildren[currentEnd];updatedHtml=updatedChildren[updatedStart]}currentHtml2=currentChildren[currentStart];updatedHtml=updatedChildren[updatedEnd];while(currentHtml2.nodeData.key===updatedHtml.nodeData.key){loop=true;updatedHtml=this.updateAllNodes(parent,currentHtml2,updatedHtml);parent.insertBefore(currentHtml2.node,afterNode);afterNode=currentHtml2.node;currentStart++;updatedEnd--;if(currentEnd<currentStart||updatedEnd<updatedStart)break fixes;currentHtml2=currentChildren[currentStart];updatedHtml=updatedChildren[updatedEnd]}}if(updatedEnd<updatedStart)while(currentStart<=currentEnd){parent.removeChild(currentChildren[currentEnd].node);currentEnd--}else if(currentEnd<currentStart)while(updatedStart<=updatedEnd){updatedChildren[updatedStart]=this.checkCreateAllNodes(parent,updatedChildren[updatedStart],afterNode);updatedStart++}else{let P=new Int32Array(updatedEnd+1-updatedStart);let I=new Map;for(let i=updatedStart;i<=updatedEnd;i++){P[i]=-1;I.set(updatedChildren[i].nodeData.key,i)}let reusingNodes=updatedStart+updatedChildren.length-1-updatedEnd,toRemove=[];for(let i=currentStart;i<=currentEnd;i++)if(I.has(currentChildren[i].nodeData.key)){P[I.get(currentChildren[i].nodeData.key)]=i;reusingNodes++}else toRemove.push(i);if(reusingNodes===0){parent.textContent="";for(let i=updatedStart;i<=updatedEnd;i++)updatedChildren[i]=this.checkCreateAllNodes(parent,updatedChildren[i])}else{let toRemoveLength=toRemove.length;for(let i=0;i<toRemoveLength;i++)parent.removeChild(currentChildren[toRemove[i]].node);let longestSeq=longestSubsequence(P,updatedStart),seqIndex=longestSeq.length-1;for(let i=updatedEnd;i>=updatedStart;i--){if(longestSeq[seqIndex]===i){currentHtml=currentChildren[P[longestSeq[seqIndex]]];updatedChildren[i]=this.updateAllNodes(parent,currentHtml,updatedChildren[i]);afterNode=currentHtml.node;seqIndex--}else{if(P[i]===-1){updatedChildren[i]=this.checkCreateAllNodes(parent,updatedChildren[i],afterNode);afterNode=updatedChildren[i].node}else{currentHtml=currentChildren[P[i]];updatedChildren[i]=this.updateAllNodes(parent,currentHtml,updatedChildren[i]);parent.insertBefore(currentHtml.node,afterNode);afterNode=currentHtml.node}}}}}};function longestSubsequence(ns,updatedStart){let seq=[],is=[],l=-1,i,len,pre=new Int32Array(ns.length);for(i=updatedStart,len=ns.length;i<len;i++){let n=ns[i];if(n<0)continue;let j=findGreatestIndex(seq,n);if(j!==-1)pre[i]=is[j];if(j===l){l++;seq[l]=n;is[l]=i}else if(n<seq[j+1]){seq[j+1]=n;is[j+1]=i}}for(i=is[l];l>=0;i=pre[i],l--)seq[l]=i;return seq}function findGreatestIndex(seq,n){let lo=-1,hi=seq.length;if(hi>0&&seq[hi-1]<=n)return hi-1;while(hi-lo>1){let mid=Math.floor((lo+hi)/2);if(seq[mid]>n)hi=mid;else lo=mid}return lo}F.prototype.updateNonKeyedChildrenNodes=function(parent,currentChildren,updatedChildren){let currentChildrenLength=currentChildren.length,updatedChildrenLength=updatedChildren.length,commonLength=Math.min(currentChildrenLength,updatedChildrenLength);for(let i=0;i<commonLength;++i)updatedChildren[i]=this.updateAllNodes(parent,currentChildren[i],updatedChildren[i]);if(currentChildrenLength<updatedChildrenLength)for(let i=commonLength;i<updatedChildrenLength;++i)updatedChildren[i]=this.checkCreateAllNodes(parent,updatedChildren[i]);else if(currentChildrenLength>updatedChildrenLength)for(let i=commonLength;i<currentChildrenLength;++i)parent.removeChild(currentChildren[i].node)};F.prototype.updateNodeData=function(node,currentNodeData,updatedHtml,isSvg){updateStyles(node,currentNodeData.styles,updatedHtml.nodeData.styles);updateAttributes(node,currentNodeData.attributes,updatedHtml.nodeData.attributes);updateClasses(node,currentNodeData.classes,updatedHtml.nodeData.classes,isSvg);updateProperties(node,currentNodeData.properties,updatedHtml.nodeData.properties);this.updateEvents(node,currentNodeData.events,updatedHtml)};function updateStyles(node,currentStyles,updatedStyles){if(currentStyles===void 0){if(updatedStyles!==void 0)createStyles(node,updatedStyles)}else if(updatedStyles===void 0){if(currentStyles!==void 0)node.removeAttribute("style")}else{let matchCount=0;for(let key in currentStyles){let current=currentStyles[key],updated=updatedStyles[key],hasUpdated=updatedStyles[key]!==void 0;if(hasUpdated)matchCount++;if(current!==updated)if(hasUpdated)node.style.setProperty(key,updated);else node.style.removeProperty(key)}let newKeys=Object.keys(updatedStyles),newKeysLength=newKeys.length;for(let i=0;matchCount<newKeysLength&&i<newKeysLength;++i){let key=newKeys[i];if(currentStyles[key]===void 0){let updated=updatedStyles[key];++matchCount;node.style.setProperty(key,updated)}}}}function updateClasses(node,currentClasses,updatedClasses,isSvg){let classUpdated=updatedClasses!==void 0&&updatedClasses.length>0;if(currentClasses!==void 0&&currentClasses.length>0&&!classUpdated)createClasses(node,[],isSvg);else if(classUpdated)createClasses(node,updatedClasses,isSvg)}function updateAttributes(node,currentAttributes,updatedAttributes){if(currentAttributes===void 0){if(updatedAttributes!==void 0)createAttributes(node,updatedAttributes)}else if(updatedAttributes===void 0){if(currentAttributes!==void 0)for(let key in currentAttributes)node.removeAttribute(key)}else{let matchCount=0;for(let key in currentAttributes){let current=currentAttributes[key],updated=updatedAttributes[key],hasUpdated=updated!==void 0;if(hasUpdated)matchCount++;if(current!==updated)if(hasUpdated)node.setAttribute(key,updated);else node.removeAttribute(key)}let newKeys=Object.keys(updatedAttributes),newKeysLength=newKeys.length;for(let i=0;matchCount<newKeysLength&&i<newKeysLength;++i){let key=newKeys[i];if(currentAttributes[key]===void 0){let updated=updatedAttributes[key];++matchCount;node.setAttribute(key,updated)}}}}function updateProperties(node,currentProperties,updatedProperties){let addAll=currentProperties===void 0,removeAll=updatedProperties===void 0;if(addAll){if(!removeAll)for(let key in updatedProperties)node[key]=updatedProperties[key]}else if(removeAll){if(!addAll)for(let key in currentProperties)node.removeAttribute(key)}else{let matchCount=0;for(let key in currentProperties){let current=currentProperties[key],updated=updatedProperties[key],hasUpdated=updated!==void 0;if(hasUpdated)matchCount++;if(current!==updated)if(hasUpdated)node[key]=updated;else node.removeAttribute(key)}let newKeys=Object.keys(updatedProperties),newKeysLength=newKeys.length;for(let i=0;matchCount<newKeysLength&&i<newKeysLength;++i){let key=newKeys[i];if(currentProperties[key]===void 0){let updated=updatedProperties[key];++matchCount;node[key]=updated}}}}F.prototype.updateEvents=function(node,currentEvents,updatedHtml){let updatedEvents=updatedHtml.nodeData.events;if(currentEvents===void 0){if(updatedEvents!==void 0)this.createAllEvents(node,updatedHtml)}else if(updatedEvents===void 0){if(currentEvents!==void 0)for(let key in currentEvents)this.removeEvent(node,key)}else{let matchCount=0;for(let key in currentEvents){let current=currentEvents[key],updated=updatedEvents[key],hasUpdated=false;if(updated===void 0)this.removeEvent(node,key);else{let currentLength=current.length,updatedLength=updated.length;if(currentLength!=updatedLength)hasUpdated=true;else{for(let i=0;i<currentLength;++i)if(current[i]!=updated[i]){hasUpdated=true;break}}}if(hasUpdated){matchCount++;this.removeEvent(node,key);this.createEvent(node,key,updatedHtml)}}let newKeys=Object.keys(updatedEvents),newKeysLength=newKeys.length;for(let i=0;matchCount<newKeysLength&&i<newKeysLength;++i){let key=newKeys[i];if(currentEvents[key]===void 0){++matchCount;this.createEvent(node,key,updatedHtml)}}}};F.prototype.removeEvent=function(node,name2){let eventKey=eventPrefix+name2;if(nonBubblingEvents.includes(name2)){let runNonBubblingEvent=node[eventKey];node.removeEventListener(name2,runNonBubblingEvent,false)}else{let count=--this.applicationEvents.get(name2).count;if(count===0){this.root.removeEventListener(name2,this.applicationEvents.get(name2).handler,false);this.applicationEvents.delete(name2)}}node[eventKey+eventPostfix]=void 0;node[eventKey]=void 0};function lazyMessageMap(mapper,html){html.messageMapper=mapper;if(html.children!==void 0&&html.children.length>0)for(let i=0;i<html.children.length;++i)lazyMessageMap(mapper,html.children[i])}var pure2=pure(applicativeEffect);var resume=runEffectFn2(resume_);var maybeUpdater=function(updater){return function(v){if(v instanceof Just){return updater(v.value0)}return pure2(unit)}};var start=function(parent){return function(updater){return runEffectFn4(start_)(Just.create)(parent)(maybeUpdater(updater))}};var startFrom=function(parent){return function(updater){return runEffectFn4(startFrom_)(Just.create)(parent)(maybeUpdater(updater))}};var applicationIds=new Set;function checkApplicationId_(id3){if(applicationIds.has(id3))throw`Error mounting application: id ${id3} already registered!`;applicationIds.add(id3)}var Window=function(){function Window2(){}Window2.value=new Window2;return Window2}();var Document=function(){function Document2(){}Document2.value=new Document2;return Document2}();var Custom=function(){function Custom2(){}Custom2.value=new Custom2;return Custom2}();var isArray=Array.isArray||function(value2){return Object.prototype.toString.call(value2)==="[object Array]"};var unsafeFromForeign=unsafeCoerce2;var createSubscription=function(updater){return function(v){if(v.value0 instanceof Window){return createWindowListener(v.value1.value0)((function($13){return updater(v.value1.value1.value0($13))}))}if(v.value0 instanceof Document){return createDocumentListener(v.value1.value0)((function($14){return updater(v.value1.value1.value0($14))}))}if(v.value0 instanceof Custom){return createCustomListener(v.value1.value0)((function($15){return updater(v.value1.value1.value0($15))}))}throw new Error("Failed pattern match at Flame.Subscription.Internal.Listener (line 31, column 83 - line 34, column 75): "+[v.value0.constructor.name])}};var checkApplicationId=runEffectFn1(checkApplicationId_);var createMessageListener=function(appId){return function(updater){return function __do(){checkApplicationId(appId)();return createCustomListener(appId)((function($16){return updater(unsafeFromForeign($16))}))()}}};var when2=when(applicativeEffect);var for_2=for_(applicativeEffect)(foldableArray);var pure3=pure(applicativeEffect);var traverse_2=traverse_(applicativeEffect)(foldableArray);var map3=map(functorMaybe);var showId=function(dictShow){var show4=show(dictShow);return function(v){return show4(v)}};var run3=function(parent){return function(isResumed){return function(appId){return function(v){return function __do(){var modelState=$$new(v.init.value0)();var renderingState=$$new(21)();var render2=function(model){return function __do2(){var rendering2=read(renderingState)();resume(rendering2)(v.view(model))();return write(model)(modelState)()}};var runUpdate=function(message2){return function __do2(){var currentModel=read(modelState)();var v1=v.update(currentModel)(message2);when2(modelHasChanged(currentModel)(v1.value0))(render2(v1.value0))();return runMessages(v1.value1)()}};var runMessages=function(affs){return for_2(affs)(runAff_((function(v1){if(v1 instanceof Left){return log(message(v1.value0))}if(v1 instanceof Right&&v1.value0 instanceof Just){return runUpdate(v1.value0.value0)}return pure3(unit)})))};var rendering=function(){if(isResumed){return startFrom(parent)(runUpdate)(v.view(v.init.value0))()}return start(parent)(runUpdate)(v.view(v.init.value0))()}();write(rendering)(renderingState)();runMessages(v.init.value1)();(function(){if(appId instanceof Nothing){return unit}if(appId instanceof Just){return createMessageListener(appId.value0)(runUpdate)()}throw new Error("Failed pattern match at Flame.Application.EffectList (line 142, column 7 - line 144, column 62): "+[appId.constructor.name])})();return traverse_2(createSubscription(runUpdate))(v.subscribe)()}}}}};var noAppId=function(){return Nothing.value}();var mountWith=function(dictShow){var showId1=showId(dictShow);return function(v){return function(appId){return function(application){return function __do(){var maybeElement=querySelector(v)();if(maybeElement instanceof Just){return run3(maybeElement.value0)(false)(map3(showId1)(appId))(application)()}if(maybeElement instanceof Nothing){return $$throw("Error mounting application")()}throw new Error("Failed pattern match at Flame.Application.EffectList (line 101, column 7 - line 103, column 62): "+[maybeElement.constructor.name])}}}}};var mountWith1=mountWith(showUnit);var mount_=function(selector){return mountWith1(selector)(noAppId)};var rawEventData=6;function createRawEvent_(name2){return function(handler){return[rawEventData,name2,handler]}}function nodeValue_(event){if(event.target.contentEditable===true||event.target.contentEditable==="true"||event.target.contentEditable==="")return event.target.innerText;return event.target.value}var map4=map(functorEffect);var nodeValue=runEffectFn1(nodeValue_);var createRawEvent=function(name2){return function(handler){return createRawEvent_(name2)(handler)}};var onInput=function(constructor){var handler=function(event){return map4((function($6){return Just.create(constructor($6))}))(nodeValue(event))};return createRawEvent("input")(handler)};var RarityCommon=function(){function RarityCommon2(){}RarityCommon2.value=new RarityCommon2;return RarityCommon2}();var RarityUncommon=function(){function RarityUncommon2(){}RarityUncommon2.value=new RarityUncommon2;return RarityUncommon2}();var RarityRare=function(){function RarityRare2(){}RarityRare2.value=new RarityRare2;return RarityRare2}();var RarityVeryRare=function(){function RarityVeryRare2(){}RarityVeryRare2.value=new RarityVeryRare2;return RarityVeryRare2}();var RarityLegendary=function(){function RarityLegendary2(){}RarityLegendary2.value=new RarityLegendary2;return RarityLegendary2}();var RarityArtifact=function(){function RarityArtifact2(){}RarityArtifact2.value=new RarityArtifact2;return RarityArtifact2}();var RarityUnique=function(){function RarityUnique2(){}RarityUnique2.value=new RarityUnique2;return RarityUnique2}();var TypeArmor=function(){function TypeArmor2(value0){this.value0=value0}TypeArmor2.create=function(value0){return new TypeArmor2(value0)};return TypeArmor2}();var TypeItem=function(){function TypeItem2(value0){this.value0=value0}TypeItem2.create=function(value0){return new TypeItem2(value0)};return TypeItem2}();var TypePotion=function(){function TypePotion2(){}TypePotion2.value=new TypePotion2;return TypePotion2}();var TypeRing=function(){function TypeRing2(){}TypeRing2.value=new TypeRing2;return TypeRing2}();var TypeScroll=function(){function TypeScroll2(){}TypeScroll2.value=new TypeScroll2;return TypeScroll2}();var TypeStaff=function(){function TypeStaff2(){}TypeStaff2.value=new TypeStaff2;return TypeStaff2}();var TypeWand=function(){function TypeWand2(){}TypeWand2.value=new TypeWand2;return TypeWand2}();var TypeWeapon=function(){function TypeWeapon2(value0){this.value0=value0}TypeWeapon2.create=function(value0){return new TypeWeapon2(value0)};return TypeWeapon2}();var SourceAcquisitionsIncorporated=function(){function SourceAcquisitionsIncorporated2(){}SourceAcquisitionsIncorporated2.value=new SourceAcquisitionsIncorporated2;return SourceAcquisitionsIncorporated2}();var SourceBaldursGateDescentIntoAvernus=function(){function SourceBaldursGateDescentIntoAvernus2(){}SourceBaldursGateDescentIntoAvernus2.value=new SourceBaldursGateDescentIntoAvernus2;return SourceBaldursGateDescentIntoAvernus2}();var SourceBookOfManyThings=function(){function SourceBookOfManyThings2(){}SourceBookOfManyThings2.value=new SourceBookOfManyThings2;return SourceBookOfManyThings2}();var SourceBigbyPresentsGloryOfTheGiants=function(){function SourceBigbyPresentsGloryOfTheGiants2(){}SourceBigbyPresentsGloryOfTheGiants2.value=new SourceBigbyPresentsGloryOfTheGiants2;return SourceBigbyPresentsGloryOfTheGiants2}();var SourceCandleDeepMysteries=function(){function SourceCandleDeepMysteries2(){}SourceCandleDeepMysteries2.value=new SourceCandleDeepMysteries2;return SourceCandleDeepMysteries2}();var SourceCurseOfStrahd=function(){function SourceCurseOfStrahd2(){}SourceCurseOfStrahd2.value=new SourceCurseOfStrahd2;return SourceCurseOfStrahd2}();var SourceCriticalRoleCallOfNetherdeep=function(){function SourceCriticalRoleCallOfNetherdeep2(){}SourceCriticalRoleCallOfNetherdeep2.value=new SourceCriticalRoleCallOfNetherdeep2;return SourceCriticalRoleCallOfNetherdeep2}();var SourceDivineContention=function(){function SourceDivineContention2(){}SourceDivineContention2.value=new SourceDivineContention2;return SourceDivineContention2}();var SourceDMG=function(){function SourceDMG2(){}SourceDMG2.value=new SourceDMG2;return SourceDMG2}();var SourceDragonlanceShadowOfTheDragonQueen=function(){function SourceDragonlanceShadowOfTheDragonQueen2(){}SourceDragonlanceShadowOfTheDragonQueen2.value=new SourceDragonlanceShadowOfTheDragonQueen2;return SourceDragonlanceShadowOfTheDragonQueen2}();var SourceEberronRisingFromTheLastWar=function(){function SourceEberronRisingFromTheLastWar2(){}SourceEberronRisingFromTheLastWar2.value=new SourceEberronRisingFromTheLastWar2;return SourceEberronRisingFromTheLastWar2}();var SourceExplorersGuideToWildemount=function(){function SourceExplorersGuideToWildemount2(){}SourceExplorersGuideToWildemount2.value=new SourceExplorersGuideToWildemount2;return SourceExplorersGuideToWildemount2}();var SourceFizbansTreasuryOfDragons=function(){function SourceFizbansTreasuryOfDragons2(){}SourceFizbansTreasuryOfDragons2.value=new SourceFizbansTreasuryOfDragons2;return SourceFizbansTreasuryOfDragons2}();var SourceGuildmastersGuideToRavnica=function(){function SourceGuildmastersGuideToRavnica2(){}SourceGuildmastersGuideToRavnica2.value=new SourceGuildmastersGuideToRavnica2;return SourceGuildmastersGuideToRavnica2}();var SourceGhostsOfSaltmarsh=function(){function SourceGhostsOfSaltmarsh2(){}SourceGhostsOfSaltmarsh2.value=new SourceGhostsOfSaltmarsh2;return SourceGhostsOfSaltmarsh2}();var SourceDungeonsAndDragonsHonorAmongThieves=function(){function SourceDungeonsAndDragonsHonorAmongThieves2(){}SourceDungeonsAndDragonsHonorAmongThieves2.value=new SourceDungeonsAndDragonsHonorAmongThieves2;return SourceDungeonsAndDragonsHonorAmongThieves2}();var SourceIcewindDaleRimeOfTheFrostmaiden=function(){function SourceIcewindDaleRimeOfTheFrostmaiden2(){}SourceIcewindDaleRimeOfTheFrostmaiden2.value=new SourceIcewindDaleRimeOfTheFrostmaiden2;return SourceIcewindDaleRimeOfTheFrostmaiden2}();var SourceInfernalMachineRebuild=function(){function SourceInfernalMachineRebuild2(){}SourceInfernalMachineRebuild2.value=new SourceInfernalMachineRebuild2;return SourceInfernalMachineRebuild2}();var SourceJourneysThroughTheRadiantCitadel=function(){function SourceJourneysThroughTheRadiantCitadel2(){}SourceJourneysThroughTheRadiantCitadel2.value=new SourceJourneysThroughTheRadiantCitadel2;return SourceJourneysThroughTheRadiantCitadel2}();var SourceKeysFromTheGoldenVault=function(){function SourceKeysFromTheGoldenVault2(){}SourceKeysFromTheGoldenVault2.value=new SourceKeysFromTheGoldenVault2;return SourceKeysFromTheGoldenVault2}();var SourceLostLaboratoryOfKwalish=function(){function SourceLostLaboratoryOfKwalish2(){}SourceLostLaboratoryOfKwalish2.value=new SourceLostLaboratoryOfKwalish2;return SourceLostLaboratoryOfKwalish2}();var SourceLostMineOfPhandelver=function(){function SourceLostMineOfPhandelver2(){}SourceLostMineOfPhandelver2.value=new SourceLostMineOfPhandelver2;return SourceLostMineOfPhandelver2}();var SourceMonstrousCompendium2=function(){function SourceMonstrousCompendium22(){}SourceMonstrousCompendium22.value=new SourceMonstrousCompendium22;return SourceMonstrousCompendium22}();var SourceMythicOdysseysOfTheros=function(){function SourceMythicOdysseysOfTheros2(){}SourceMythicOdysseysOfTheros2.value=new SourceMythicOdysseysOfTheros2;return SourceMythicOdysseysOfTheros2}();var SourceOutOfTheAbyss=function(){function SourceOutOfTheAbyss2(){}SourceOutOfTheAbyss2.value=new SourceOutOfTheAbyss2;return SourceOutOfTheAbyss2}();var SourcePhandelverAndBelowTheShatteredObelisk=function(){function SourcePhandelverAndBelowTheShatteredObelisk2(){}SourcePhandelverAndBelowTheShatteredObelisk2.value=new SourcePhandelverAndBelowTheShatteredObelisk2;return SourcePhandelverAndBelowTheShatteredObelisk2}();var SourcePlanescapeAdventuresInTheMultiverse=function(){function SourcePlanescapeAdventuresInTheMultiverse2(){}SourcePlanescapeAdventuresInTheMultiverse2.value=new SourcePlanescapeAdventuresInTheMultiverse2;return SourcePlanescapeAdventuresInTheMultiverse2}();var SourceQuestsFromTheInfiniteStaircase=function(){function SourceQuestsFromTheInfiniteStaircase2(){}SourceQuestsFromTheInfiniteStaircase2.value=new SourceQuestsFromTheInfiniteStaircase2;return SourceQuestsFromTheInfiniteStaircase2}();var SourcePrincesOfTheApocalypse=function(){function SourcePrincesOfTheApocalypse2(){}SourcePrincesOfTheApocalypse2.value=new SourcePrincesOfTheApocalypse2;return SourcePrincesOfTheApocalypse2}();var SourceTheRiseOfTiamat=function(){function SourceTheRiseOfTiamat2(){}SourceTheRiseOfTiamat2.value=new SourceTheRiseOfTiamat2;return SourceTheRiseOfTiamat2}();var SourceSpelljammerAdventuresInSpace=function(){function SourceSpelljammerAdventuresInSpace2(){}SourceSpelljammerAdventuresInSpace2.value=new SourceSpelljammerAdventuresInSpace2;return SourceSpelljammerAdventuresInSpace2}();var SourceStrixhaveCurriculumOfChaos=function(){function SourceStrixhaveCurriculumOfChaos2(){}SourceStrixhaveCurriculumOfChaos2.value=new SourceStrixhaveCurriculumOfChaos2;return SourceStrixhaveCurriculumOfChaos2}();var SourceSourceSleepingDragonsWake=function(){function SourceSourceSleepingDragonsWake2(){}SourceSourceSleepingDragonsWake2.value=new SourceSourceSleepingDragonsWake2;return SourceSourceSleepingDragonsWake2}();var SourceStormKingsThunder=function(){function SourceStormKingsThunder2(){}SourceStormKingsThunder2.value=new SourceStormKingsThunder2;return SourceStormKingsThunder2}();var SourceTashasCauldronOfEverything=function(){function SourceTashasCauldronOfEverything2(){}SourceTashasCauldronOfEverything2.value=new SourceTashasCauldronOfEverything2;return SourceTashasCauldronOfEverything2}();var SourceTombOfAnnihilation=function(){function SourceTombOfAnnihilation2(){}SourceTombOfAnnihilation2.value=new SourceTombOfAnnihilation2;return SourceTombOfAnnihilation2}();var SourceTyrannyOfDragons=function(){function SourceTyrannyOfDragons2(){}SourceTyrannyOfDragons2.value=new SourceTyrannyOfDragons2;return SourceTyrannyOfDragons2}();var SourceTalesFromTheYawningPortal=function(){function SourceTalesFromTheYawningPortal2(){}SourceTalesFromTheYawningPortal2.value=new SourceTalesFromTheYawningPortal2;return SourceTalesFromTheYawningPortal2}();var SourceVanRichtensGuideToRavenloft=function(){function SourceVanRichtensGuideToRavenloft2(){}SourceVanRichtensGuideToRavenloft2.value=new SourceVanRichtensGuideToRavenloft2;return SourceVanRichtensGuideToRavenloft2}();var SourceVecnaEyeOfRuin=function(){function SourceVecnaEyeOfRuin2(){}SourceVecnaEyeOfRuin2.value=new SourceVecnaEyeOfRuin2;return SourceVecnaEyeOfRuin2}();var SourceVolosGuideToMonsters=function(){function SourceVolosGuideToMonsters2(){}SourceVolosGuideToMonsters2.value=new SourceVolosGuideToMonsters2;return SourceVolosGuideToMonsters2}();var SourceWaterdeepDragonHeist=function(){function SourceWaterdeepDragonHeist2(){}SourceWaterdeepDragonHeist2.value=new SourceWaterdeepDragonHeist2;return SourceWaterdeepDragonHeist2}();var SourceWaterdeepDungeonOfTheMadMage=function(){function SourceWaterdeepDungeonOfTheMadMage2(){}SourceWaterdeepDungeonOfTheMadMage2.value=new SourceWaterdeepDungeonOfTheMadMage2;return SourceWaterdeepDungeonOfTheMadMage2}();var SourceWayfarersGuideToEberron=function(){function SourceWayfarersGuideToEberron2(){}SourceWayfarersGuideToEberron2.value=new SourceWayfarersGuideToEberron2;return SourceWayfarersGuideToEberron2}();var SourceTheWildBeyondTheWitchlight=function(){function SourceTheWildBeyondTheWitchlight2(){}SourceTheWildBeyondTheWitchlight2.value=new SourceTheWildBeyondTheWitchlight2;return SourceTheWildBeyondTheWitchlight2}();var SourceXanatharsGuideToEverything=function(){function SourceXanatharsGuideToEverything2(){}SourceXanatharsGuideToEverything2.value=new SourceXanatharsGuideToEverything2;return SourceXanatharsGuideToEverything2}();var AttuneNone=function(){function AttuneNone2(){}AttuneNone2.value=new AttuneNone2;return AttuneNone2}();var Attune=function(){function Attune2(value0){this.value0=value0}Attune2.create=function(value0){return new Attune2(value0)};return Attune2}();var unshowRarity={unshow:function(v){if(v==="Common"){return new Just(RarityCommon.value)}if(v==="Uncommon"){return new Just(RarityUncommon.value)}if(v==="Rare"){return new Just(RarityRare.value)}if(v==="Very Rare"){return new Just(RarityVeryRare.value)}if(v==="Legendary"){return new Just(RarityLegendary.value)}if(v==="Artifact"){return new Just(RarityArtifact.value)}if(v==="Unique"){return new Just(RarityUnique.value)}return Nothing.value}};var unshowItemType={unshow:function(v){if(v==="Armor"){return new Just(new TypeArmor(Nothing.value))}if(v==="Wondrous Item"){return new Just(new TypeItem(Nothing.value))}if(v==="Potion"){return new Just(TypePotion.value)}if(v==="Ring"){return new Just(TypeRing.value)}if(v==="Scroll"){return new Just(TypeScroll.value)}if(v==="Staff"){return new Just(TypeStaff.value)}if(v==="Wand"){return new Just(TypeWand.value)}if(v==="Weapon"){return new Just(new TypeWeapon(Nothing.value))}return Nothing.value}};var unshowItemSource={unshow:function(v){if(v==="Acquisitions Incorporated"){return new Just(SourceAcquisitionsIncorporated.value)}if(v==="Baldur's Gate: Descent into Avernus"){return new Just(SourceBaldursGateDescentIntoAvernus.value)}if(v==="The Book of Many Things"){return new Just(SourceBookOfManyThings.value)}if(v==="Bigby Presents: Glory of the Giants"){return new Just(SourceBigbyPresentsGloryOfTheGiants.value)}if(v==="Candlekeep Mysteries"){return new Just(SourceCandleDeepMysteries.value)}if(v==="Curse of Strahd"){return new Just(SourceCurseOfStrahd.value)}if(v==="Critical Role: Call of the Netherdeep"){return new Just(SourceCriticalRoleCallOfNetherdeep.value)}if(v==="Divine Contention"){return new Just(SourceDivineContention.value)}if(v==="Dungeon Master's Guide"){return new Just(SourceDMG.value)}if(v==="Dragonlance: Shadow of the Dragon Queen"){return new Just(SourceDragonlanceShadowOfTheDragonQueen.value)}if(v==="Eberron: Rising from the Last War"){return new Just(SourceEberronRisingFromTheLastWar.value)}if(v==="Explorer's Guide to Wildemount"){return new Just(SourceExplorersGuideToWildemount.value)}if(v==="Fizban's Treasury of Dragons"){return new Just(SourceFizbansTreasuryOfDragons.value)}if(v==="Guildmaster's Guide to Ravnica"){return new Just(SourceGuildmastersGuideToRavnica.value)}if(v==="Ghosts of Saltmarsh"){return new Just(SourceGhostsOfSaltmarsh.value)}if(v==="Dungeons and Dragons: Honor Among Thieves"){return new Just(SourceDungeonsAndDragonsHonorAmongThieves.value)}if(v==="Icewind Dale: Rime of the Frostmaiden"){return new Just(SourceIcewindDaleRimeOfTheFrostmaiden.value)}if(v==="Infernal Machine Rebuild"){return new Just(SourceInfernalMachineRebuild.value)}if(v==="Journeys through the Radiant Citadel"){return new Just(SourceJourneysThroughTheRadiantCitadel.value)}if(v==="Keys from the Golden Vault"){return new Just(SourceKeysFromTheGoldenVault.value)}if(v==="Lost Laboratory of Kwalish"){return new Just(SourceLostLaboratoryOfKwalish.value)}if(v==="Lost Mine of Phandelver"){return new Just(SourceLostMineOfPhandelver.value)}if(v==="Monstrous Compendium Volume 2 - Dragonlance Creatures"){return new Just(SourceMonstrousCompendium2.value)}if(v==="Mythic Odysseys of Theros"){return new Just(SourceMythicOdysseysOfTheros.value)}if(v==="Out of the Abyss"){return new Just(SourceOutOfTheAbyss.value)}if(v==="Phandelver and Below: The Shattered Obelisk"){return new Just(SourcePhandelverAndBelowTheShatteredObelisk.value)}if(v==="Planescape: Adventures in the Multiverse"){return new Just(SourcePlanescapeAdventuresInTheMultiverse.value)}if(v==="Quests from the Infinite Staircase"){return new Just(SourceQuestsFromTheInfiniteStaircase.value)}if(v==="Princes of the Apocalypse"){return new Just(SourcePrincesOfTheApocalypse.value)}if(v==="The Rise of Tiamat"){return new Just(SourceTheRiseOfTiamat.value)}if(v==="Spelljammer: Adventures in Space"){return new Just(SourceSpelljammerAdventuresInSpace.value)}if(v==="Strixhaven: A Curriculum of Chaos"){return new Just(SourceStrixhaveCurriculumOfChaos.value)}if(v==="Sleeping Dragon's Wake"){return new Just(SourceSourceSleepingDragonsWake.value)}if(v==="Storm King's Thunder"){return new Just(SourceStormKingsThunder.value)}if(v==="Tasha's Cauldron of Everything"){return new Just(SourceTashasCauldronOfEverything.value)}if(v==="Tomb of Annihilation"){return new Just(SourceTombOfAnnihilation.value)}if(v==="Tyranny of Dragons"){return new Just(SourceTyrannyOfDragons.value)}if(v==="Tales from the Yawning Portal"){return new Just(SourceTalesFromTheYawningPortal.value)}if(v==="Van Richten's Guide to Ravenloft"){return new Just(SourceVanRichtensGuideToRavenloft.value)}if(v==="Vecna: Eve of Ruin"){return new Just(SourceVecnaEyeOfRuin.value)}if(v==="Volo's Guide to Monsters"){return new Just(SourceVolosGuideToMonsters.value)}if(v==="Waterdeep: Dragon Heist"){return new Just(SourceWaterdeepDragonHeist.value)}if(v==="Waterdeep: Dungeon of the Mad Mage"){return new Just(SourceWaterdeepDungeonOfTheMadMage.value)}if(v==="Wayfarer's Guide to Eberron"){return new Just(SourceWayfarersGuideToEberron.value)}if(v==="The Wild Beyond the Witchlight"){return new Just(SourceTheWildBeyondTheWitchlight.value)}if(v==="Xanathar's Guide to Everything"){return new Just(SourceXanatharsGuideToEverything.value)}return Nothing.value}};var showShortItemType={showShort:function(v){if(v instanceof TypeArmor){return"Armor"}if(v instanceof TypeItem){return"Wondrous Item"}if(v instanceof TypePotion){return"Potion"}if(v instanceof TypeRing){return"Ring"}if(v instanceof TypeScroll){return"Scroll"}if(v instanceof TypeStaff){return"Staff"}if(v instanceof TypeWand){return"Wand"}if(v instanceof TypeWeapon){return"Weapon"}throw new Error("Failed pattern match at Types (line 304, column 1 - line 312, column 39): "+[v.constructor.name])}};var showRarity={show:function(v){if(v instanceof RarityCommon){return"Common"}if(v instanceof RarityUncommon){return"Uncommon"}if(v instanceof RarityRare){return"Rare"}if(v instanceof RarityVeryRare){return"Very Rare"}if(v instanceof RarityLegendary){return"Legendary"}if(v instanceof RarityArtifact){return"Artifact"}if(v instanceof RarityUnique){return"Unique"}throw new Error("Failed pattern match at Types (line 323, column 1 - line 330, column 34): "+[v.constructor.name])}};var showItemType={show:function(v){if(v instanceof TypeArmor&&v.value0 instanceof Nothing){return"Armor"}if(v instanceof TypeArmor&&v.value0 instanceof Just){return"Armor ("+(v.value0.value0+")")}if(v instanceof TypeItem&&v.value0 instanceof Nothing){return"Wondrous Item"}if(v instanceof TypeItem&&v.value0 instanceof Just){return"Wondrous Item ("+(v.value0.value0+")")}if(v instanceof TypePotion){return"Potion"}if(v instanceof TypeRing){return"Ring"}if(v instanceof TypeScroll){return"Scroll"}if(v instanceof TypeStaff){return"Staff"}if(v instanceof TypeWand){return"Wand"}if(v instanceof TypeWeapon&&v.value0 instanceof Nothing){return"Weapon"}if(v instanceof TypeWeapon&&v.value0 instanceof Just){return"Weapon ("+(v.value0.value0+")")}throw new Error("Failed pattern match at Types (line 269, column 1 - line 280, column 54): "+[v.constructor.name])}};var showItemSource={show:function(v){if(v instanceof SourceAcquisitionsIncorporated){return"Acquisitions Incorporated"}if(v instanceof SourceBaldursGateDescentIntoAvernus){return"Baldur's Gate: Descent into Avernus"}if(v instanceof SourceBookOfManyThings){return"The Book of Many Things"}if(v instanceof SourceBigbyPresentsGloryOfTheGiants){return"Bigby Presents: Glory of the Giants"}if(v instanceof SourceCandleDeepMysteries){return"Candlekeep Mysteries"}if(v instanceof SourceCurseOfStrahd){return"Curse of Strahd"}if(v instanceof SourceCriticalRoleCallOfNetherdeep){return"Critical Role: Call of the Netherdeep"}if(v instanceof SourceDivineContention){return"Divine Contention"}if(v instanceof SourceDMG){return"Dungeon Master's Guide"}if(v instanceof SourceDragonlanceShadowOfTheDragonQueen){return"Dragonlance: Shadow of the Dragon Queen"}if(v instanceof SourceEberronRisingFromTheLastWar){return"Eberron: Rising from the Last War"}if(v instanceof SourceExplorersGuideToWildemount){return"Explorer's Guide to Wildemount"}if(v instanceof SourceFizbansTreasuryOfDragons){return"Fizban's Treasury of Dragons"}if(v instanceof SourceGuildmastersGuideToRavnica){return"Guildmaster's Guide to Ravnica"}if(v instanceof SourceGhostsOfSaltmarsh){return"Ghosts of Saltmarsh"}if(v instanceof SourceDungeonsAndDragonsHonorAmongThieves){return"Dungeons and Dragons: Honor Among Thieves"}if(v instanceof SourceIcewindDaleRimeOfTheFrostmaiden){return"Icewind Dale: Rime of the Frostmaiden"}if(v instanceof SourceInfernalMachineRebuild){return"Infernal Machine Rebuild"}if(v instanceof SourceJourneysThroughTheRadiantCitadel){return"Journeys through the Radiant Citadel"}if(v instanceof SourceKeysFromTheGoldenVault){return"Keys from the Golden Vault"}if(v instanceof SourceLostLaboratoryOfKwalish){return"Lost Laboratory of Kwalish"}if(v instanceof SourceLostMineOfPhandelver){return"Lost Mine of Phandelver"}if(v instanceof SourceMonstrousCompendium2){return"Monstrous Compendium Volume 2 - Dragonlance Creatures"}if(v instanceof SourceMythicOdysseysOfTheros){return"Mythic Odysseys of Theros"}if(v instanceof SourceOutOfTheAbyss){return"Out of the Abyss"}if(v instanceof SourcePhandelverAndBelowTheShatteredObelisk){return"Phandelver and Below: The Shattered Obelisk"}if(v instanceof SourcePlanescapeAdventuresInTheMultiverse){return"Planescape: Adventures in the Multiverse"}if(v instanceof SourceQuestsFromTheInfiniteStaircase){return"Quests from the Infinite Staircase"}if(v instanceof SourcePrincesOfTheApocalypse){return"Princes of the Apocalypse"}if(v instanceof SourceTheRiseOfTiamat){return"The Rise of Tiamat"}if(v instanceof SourceSpelljammerAdventuresInSpace){return"Spelljammer: Adventures in Space"}if(v instanceof SourceStrixhaveCurriculumOfChaos){return"Strixhaven: A Curriculum of Chaos"}if(v instanceof SourceSourceSleepingDragonsWake){return"Sleeping Dragon's Wake"}if(v instanceof SourceStormKingsThunder){return"Storm King's Thunder"}if(v instanceof SourceTashasCauldronOfEverything){return"Tasha's Cauldron of Everything"}if(v instanceof SourceTombOfAnnihilation){return"Tomb of Annihilation"}if(v instanceof SourceTyrannyOfDragons){return"Tyranny of Dragons"}if(v instanceof SourceTalesFromTheYawningPortal){return"Tales from the Yawning Portal"}if(v instanceof SourceVanRichtensGuideToRavenloft){return"Van Richten's Guide to Ravenloft"}if(v instanceof SourceVecnaEyeOfRuin){return"Vecna: Eve of Ruin"}if(v instanceof SourceVolosGuideToMonsters){return"Volo's Guide to Monsters"}if(v instanceof SourceWaterdeepDragonHeist){return"Waterdeep: Dragon Heist"}if(v instanceof SourceWaterdeepDungeonOfTheMadMage){return"Waterdeep: Dungeon of the Mad Mage"}if(v instanceof SourceWayfarersGuideToEberron){return"Wayfarer's Guide to Eberron"}if(v instanceof SourceTheWildBeyondTheWitchlight){return"The Wild Beyond the Witchlight"}if(v instanceof SourceXanatharsGuideToEverything){return"Xanathar's Guide to Everything"}throw new Error("Failed pattern match at Types (line 60, column 1 - line 106, column 75): "+[v.constructor.name])}};var showItemAttunement={show:function(v){if(v instanceof AttuneNone){return"-"}if(v instanceof Attune){return"Attune"}throw new Error("Failed pattern match at Types (line 359, column 1 - line 361, column 30): "+[v.constructor.name])}};var eqRarity={eq:function(v){return function(v1){if(v instanceof RarityCommon&&v1 instanceof RarityCommon){return true}if(v instanceof RarityUncommon&&v1 instanceof RarityUncommon){return true}if(v instanceof RarityRare&&v1 instanceof RarityRare){return true}if(v instanceof RarityVeryRare&&v1 instanceof RarityVeryRare){return true}if(v instanceof RarityLegendary&&v1 instanceof RarityLegendary){return true}if(v instanceof RarityArtifact&&v1 instanceof RarityArtifact){return true}if(v instanceof RarityUnique&&v1 instanceof RarityUnique){return true}return false}}};var eqItemType={eq:function(v){return function(v1){if(v instanceof TypeArmor&&v1 instanceof TypeArmor){return true}if(v instanceof TypeItem&&v1 instanceof TypeItem){return true}if(v instanceof TypePotion&&v1 instanceof TypePotion){return true}if(v instanceof TypeRing&&v1 instanceof TypeRing){return true}if(v instanceof TypeScroll&&v1 instanceof TypeScroll){return true}if(v instanceof TypeStaff&&v1 instanceof TypeStaff){return true}if(v instanceof TypeWand&&v1 instanceof TypeWand){return true}if(v instanceof TypeWeapon&&v1 instanceof TypeWeapon){return true}return false}}};var eqItemSource={eq:function(v){return function(v1){if(v instanceof SourceAcquisitionsIncorporated&&v1 instanceof SourceAcquisitionsIncorporated){return true}if(v instanceof SourceBaldursGateDescentIntoAvernus&&v1 instanceof SourceBaldursGateDescentIntoAvernus){return true}if(v instanceof SourceBookOfManyThings&&v1 instanceof SourceBookOfManyThings){return true}if(v instanceof SourceBigbyPresentsGloryOfTheGiants&&v1 instanceof SourceBigbyPresentsGloryOfTheGiants){return true}if(v instanceof SourceCandleDeepMysteries&&v1 instanceof SourceCandleDeepMysteries){return true}if(v instanceof SourceCurseOfStrahd&&v1 instanceof SourceCurseOfStrahd){return true}if(v instanceof SourceCriticalRoleCallOfNetherdeep&&v1 instanceof SourceCriticalRoleCallOfNetherdeep){return true}if(v instanceof SourceDivineContention&&v1 instanceof SourceDivineContention){return true}if(v instanceof SourceDMG&&v1 instanceof SourceDMG){return true}if(v instanceof SourceDragonlanceShadowOfTheDragonQueen&&v1 instanceof SourceDragonlanceShadowOfTheDragonQueen){return true}if(v instanceof SourceEberronRisingFromTheLastWar&&v1 instanceof SourceEberronRisingFromTheLastWar){return true}if(v instanceof SourceExplorersGuideToWildemount&&v1 instanceof SourceExplorersGuideToWildemount){return true}if(v instanceof SourceFizbansTreasuryOfDragons&&v1 instanceof SourceFizbansTreasuryOfDragons){return true}if(v instanceof SourceGuildmastersGuideToRavnica&&v1 instanceof SourceGuildmastersGuideToRavnica){return true}if(v instanceof SourceGhostsOfSaltmarsh&&v1 instanceof SourceGhostsOfSaltmarsh){return true}if(v instanceof SourceDungeonsAndDragonsHonorAmongThieves&&v1 instanceof SourceDungeonsAndDragonsHonorAmongThieves){return true}if(v instanceof SourceIcewindDaleRimeOfTheFrostmaiden&&v1 instanceof SourceIcewindDaleRimeOfTheFrostmaiden){return true}if(v instanceof SourceInfernalMachineRebuild&&v1 instanceof SourceInfernalMachineRebuild){return true}if(v instanceof SourceJourneysThroughTheRadiantCitadel&&v1 instanceof SourceJourneysThroughTheRadiantCitadel){return true}if(v instanceof SourceKeysFromTheGoldenVault&&v1 instanceof SourceKeysFromTheGoldenVault){return true}if(v instanceof SourceLostLaboratoryOfKwalish&&v1 instanceof SourceLostLaboratoryOfKwalish){return true}if(v instanceof SourceLostMineOfPhandelver&&v1 instanceof SourceLostMineOfPhandelver){return true}if(v instanceof SourceMonstrousCompendium2&&v1 instanceof SourceMonstrousCompendium2){return true}if(v instanceof SourceMythicOdysseysOfTheros&&v1 instanceof SourceMythicOdysseysOfTheros){return true}if(v instanceof SourceOutOfTheAbyss&&v1 instanceof SourceOutOfTheAbyss){return true}if(v instanceof SourcePhandelverAndBelowTheShatteredObelisk&&v1 instanceof SourcePhandelverAndBelowTheShatteredObelisk){return true}if(v instanceof SourcePlanescapeAdventuresInTheMultiverse&&v1 instanceof SourcePlanescapeAdventuresInTheMultiverse){return true}if(v instanceof SourceQuestsFromTheInfiniteStaircase&&v1 instanceof SourceQuestsFromTheInfiniteStaircase){return true}if(v instanceof SourcePrincesOfTheApocalypse&&v1 instanceof SourcePrincesOfTheApocalypse){return true}if(v instanceof SourceTheRiseOfTiamat&&v1 instanceof SourceTheRiseOfTiamat){return true}if(v instanceof SourceSpelljammerAdventuresInSpace&&v1 instanceof SourceSpelljammerAdventuresInSpace){return true}if(v instanceof SourceStrixhaveCurriculumOfChaos&&v1 instanceof SourceStrixhaveCurriculumOfChaos){return true}if(v instanceof SourceSourceSleepingDragonsWake&&v1 instanceof SourceSourceSleepingDragonsWake){return true}if(v instanceof SourceStormKingsThunder&&v1 instanceof SourceStormKingsThunder){return true}if(v instanceof SourceTashasCauldronOfEverything&&v1 instanceof SourceTashasCauldronOfEverything){return true}if(v instanceof SourceTombOfAnnihilation&&v1 instanceof SourceTombOfAnnihilation){return true}if(v instanceof SourceTyrannyOfDragons&&v1 instanceof SourceTyrannyOfDragons){return true}if(v instanceof SourceTalesFromTheYawningPortal&&v1 instanceof SourceTalesFromTheYawningPortal){return true}if(v instanceof SourceVanRichtensGuideToRavenloft&&v1 instanceof SourceVanRichtensGuideToRavenloft){return true}if(v instanceof SourceVecnaEyeOfRuin&&v1 instanceof SourceVecnaEyeOfRuin){return true}if(v instanceof SourceVolosGuideToMonsters&&v1 instanceof SourceVolosGuideToMonsters){return true}if(v instanceof SourceWaterdeepDragonHeist&&v1 instanceof SourceWaterdeepDragonHeist){return true}if(v instanceof SourceWaterdeepDungeonOfTheMadMage&&v1 instanceof SourceWaterdeepDungeonOfTheMadMage){return true}if(v instanceof SourceWayfarersGuideToEberron&&v1 instanceof SourceWayfarersGuideToEberron){return true}if(v instanceof SourceTheWildBeyondTheWitchlight&&v1 instanceof SourceTheWildBeyondTheWitchlight){return true}if(v instanceof SourceXanatharsGuideToEverything&&v1 instanceof SourceXanatharsGuideToEverything){return true}return false}}};var eqItemAttunement={eq:function(v){return function(v1){if(v instanceof AttuneNone&&v1 instanceof AttuneNone){return true}if(v instanceof Attune&&v1 instanceof Attune){return true}return false}}};var unshow=function(dict){return dict.unshow};var toAttune=function(v){if(v==="Attune"){return new Just(new Attune(Nothing.value))}if(v==="-"){return new Just(AttuneNone.value)}return Nothing.value};var showShort=function(dict){return dict.showShort};var showFullAttune=function(v){if(v instanceof AttuneNone){return""}if(v instanceof Attune&&v.value0 instanceof Nothing){return" (requires attunement)"}if(v instanceof Attune&&v.value0 instanceof Just){return" (requires attunement by a "+(v.value0.value0+")")}throw new Error("Failed pattern match at Types (line 376, column 1 - line 376, column 43): "+[v.constructor.name])};var allTypes=function(){return[new TypeArmor(Nothing.value),new TypeItem(Nothing.value),TypePotion.value,TypeRing.value,TypeScroll.value,TypeStaff.value,TypeWand.value,new TypeWeapon(Nothing.value)]}();var allSources=function(){return[SourceAcquisitionsIncorporated.value,SourceBaldursGateDescentIntoAvernus.value,SourceBookOfManyThings.value,SourceBigbyPresentsGloryOfTheGiants.value,SourceCandleDeepMysteries.value,SourceCurseOfStrahd.value,SourceCriticalRoleCallOfNetherdeep.value,SourceDivineContention.value,SourceDMG.value,SourceDragonlanceShadowOfTheDragonQueen.value,SourceEberronRisingFromTheLastWar.value,SourceExplorersGuideToWildemount.value,SourceFizbansTreasuryOfDragons.value,SourceGuildmastersGuideToRavnica.value,SourceGhostsOfSaltmarsh.value,SourceDungeonsAndDragonsHonorAmongThieves.value,SourceIcewindDaleRimeOfTheFrostmaiden.value,SourceInfernalMachineRebuild.value,SourceJourneysThroughTheRadiantCitadel.value,SourceKeysFromTheGoldenVault.value,SourceLostLaboratoryOfKwalish.value,SourceLostMineOfPhandelver.value,SourceMonstrousCompendium2.value,SourceMythicOdysseysOfTheros.value,SourceOutOfTheAbyss.value,SourcePhandelverAndBelowTheShatteredObelisk.value,SourcePlanescapeAdventuresInTheMultiverse.value,SourceQuestsFromTheInfiniteStaircase.value,SourcePrincesOfTheApocalypse.value,SourceTheRiseOfTiamat.value,SourceSpelljammerAdventuresInSpace.value,SourceStrixhaveCurriculumOfChaos.value,SourceSourceSleepingDragonsWake.value,SourceStormKingsThunder.value,SourceTashasCauldronOfEverything.value,SourceTombOfAnnihilation.value,SourceTyrannyOfDragons.value,SourceTalesFromTheYawningPortal.value,SourceVanRichtensGuideToRavenloft.value,SourceVecnaEyeOfRuin.value,SourceVolosGuideToMonsters.value,SourceWaterdeepDragonHeist.value,SourceWaterdeepDungeonOfTheMadMage.value,SourceWayfarersGuideToEberron.value,SourceTheWildBeyondTheWitchlight.value,SourceXanatharsGuideToEverything.value]}();var allRarities=function(){return[RarityCommon.value,RarityUncommon.value,RarityRare.value,RarityVeryRare.value,RarityLegendary.value,RarityArtifact.value,RarityUnique.value]}();var allAttunes=function(){return[AttuneNone.value,new Attune(Nothing.value)]}();var append2=append(semigroupArray);var veryRareItems=function(){return[{title:"Abracadabrus",rarity:RarityVeryRare.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceIcewindDaleRimeOfTheFrostmaiden.value,description:["An abracadabrus is an ornate, gemstone-studded wooden chest that weighs 25 pounds while empty. Its interior compartment is a cube measuring 1 1/2 feet on a side.","The chest has 20 charges. A creature can use an action to touch the closed lid of the chest and expend 1 of the chest's charges while naming one or more nonmagical objects (including raw materials, foodstuffs, and liquids) worth a total of 1 gp or less. The named objects magically appear in the chest, provided they can all fit inside it and the chest doesn't contain anything else. For example, the chest can conjure a plate of strawberries, a bowl of hot soup, a flagon of water, a stuffed animal, or a bag of twenty caltrops. Food and drink conjured by the chest are delicious, and they spoil if not consumed after 24 hours. Gems and precious metals created by the chest disappear after 1 minute.","The chest regains 1d20 expended charges daily at dawn. If the item's last charge is expended, roll a d20. On a 1, the chest loses its magic (becoming an ordinary chest), and its gemstones turn to dust."]}]}();var uniqueItems=function(){return[{title:"Draakhorn",rarity:RarityUnique.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceTheRiseOfTiamat.value,description:["The Draakhorn was a gift from Tiamat in the war between dragons and giants. It was once the horn of her ancient red dragon consort, Ephelomon, that she gave to dragonkind to help them in their war against the giants. The Draakhorn is a signaling device, and it is so large that it requires two Medium creatures (or one Large or larger) to hold it while a third creature sounds it, making the earth resonate to its call. The horn has been blasted with fire into a dark ebony hue and is wrapped in bands of bronze with draconic runes that glow with purple eldritch fire.","The low, moaning drone of the Draakhorn discomfits normal animals within a few miles, and it alerts all dragons within two thousand miles to rise and be wary, for great danger is at hand. Coded blasts were once used to signal specific messages. Knowledge of those codes has been lost to the ages.","Those with knowledge of the Draakhorn's history know that it was first built to signal danger to chromatic dragons —- a purpose the Cult of the Dragon has corrupted to call chromatic dragons to the Well of Dragons from across the North.","While the horn is sounding, a creature must make a DC 15 Constitution saving throw the first time on a turn the creature enters a 150-foot cone in front of the horn or starts its turn there. On a failed save, the creature takes 27 (6d8) thunder damage and is knocked prone. On a successful save, the creature takes half damage and isn't knocked prone. The horn can't be turned or aimed at a specific target."]}]}();var uncommonItems=function(){return[{title:"Adamantine Armor",rarity:RarityUncommon.value,type:new TypeArmor(new Just("medium or heavy, but not hide")),attune:AttuneNone.value,source:SourceDMG.value,description:["This suit of armor is reinforced with adamantine, one of the hardest substances in existence. While you're wearing it, any critical hit against you becomes a normal hit."]},{title:"Alchemy Jug",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["This ceramic jug appears to be able to hold a gallon of liquid and weighs 12 pounds whether full or empty. Sloshing sounds can be heard from within the jug when it is shaken, even if the jug is empty.","You can use an action and name one liquid from the table below to cause the jug to produce the chosen liquid. Afterward, you can uncork the jug as an action and pour that liquid out, up to 2 gallons per minute. The maximum amount of liquid the jug can produce depends on the liquid you named.","Once the jug starts producing a liquid, it can't produce a different one, or more of one that has reached its maximum, until the next dawn.","Liquids:","Acid: 8 ounces","Basic poison\t1: 2 ounce","Beer: 4 gallons","Honey: 1 gallon","Mayonnaise: 2 gallons","Oil: 1 quart","Vinegar: 2 gallons","Water, fresh: 8 gallons","Water, salt: 12 gallons","Wine: 1 gallon"]},{title:"Alchemy Jug (Blue)",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCandleDeepMysteries.value,description:["(This jug functions as an Alchemy Jug, except that it neither produces acid or poison. It can produce 1 quart of boiling hot tea instead.)","This ceramic jug appears to be able to hold a gallon of liquid and weighs 12 pounds whether full or empty. Sloshing sounds can be heard from within the jug when it is shaken, even if the jug is empty.","You can use an action and name one liquid from the table below to cause the jug to produce the chosen liquid. Afterward, you can uncork the jug as an action and pour that liquid out, up to 2 gallons per minute. The maximum amount of liquid the jug can produce depends on the liquid you named.","Once the jug starts producing a liquid, it can't produce a different one, or more of one that has reached its maximum, until the next dawn.","Liquids:","Boiling Hot Tea: 1 quart","Beer: 4 gallons","Honey: 1 gallon","Mayonnaise: 2 gallons","Oil: 1 quart","Vinegar: 2 gallons","Water, fresh: 8 gallons","Water, salt: 12 gallons","Wine: 1 gallon"]},{title:"Alchemy Jug (Orange)",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCandleDeepMysteries.value,description:["(This jug functions as an Alchemy Jug, except that it neither produces acid or poison. It can produce 1 gallon of soy sauce instead.)","This ceramic jug appears to be able to hold a gallon of liquid and weighs 12 pounds whether full or empty. Sloshing sounds can be heard from within the jug when it is shaken, even if the jug is empty.","You can use an action and name one liquid from the table below to cause the jug to produce the chosen liquid. Afterward, you can uncork the jug as an action and pour that liquid out, up to 2 gallons per minute. The maximum amount of liquid the jug can produce depends on the liquid you named.","Once the jug starts producing a liquid, it can't produce a different one, or more of one that has reached its maximum, until the next dawn.","Liquids:","Soy Sauce: 1 gallon","Beer: 4 gallons","Honey: 1 gallon","Mayonnaise: 2 gallons","Oil: 1 quart","Vinegar: 2 gallons","Water, fresh: 8 gallons","Water, salt: 12 gallons","Wine: 1 gallon"]},{title:"All-Purpose Tool",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("artificer")),source:SourceTashasCauldronOfEverything.value,description:["This simple screwdriver can transform into a variety of tools; as an action, you can touch the item and transform it into any type of artisan's tool of your choice (see the 'Equipment' chapter in the Player's Handbook for a list of artisan's tools). Whatever form the tool takes, you are proficient with it. While holding this tool, you gain a bonus to the spell attack rolls and the saving throw DCs of your artificer spells. The bonus is determined by the tool's rarity.","As an action, you can focus on the tool to channel your creative forces. Choose a cantrip that you don't know from any class list. For 8 hours, you can cast that cantrip, and it counts as an artificer cantrip for you. Once this property is used, it can't be used again until the next dawn."]},{title:"Ammunition, +1, +2, or +3",rarity:RarityUncommon.value,type:new TypeWeapon(new Just("any ammunition")),attune:AttuneNone.value,source:SourceDMG.value,description:["Uncommon (+1), Rare (+2), or Very Rare (+3)","You have a bonus to attack and damage rolls made with this piece of magic ammunition. The bonus is determined by the rarity of the ammunition. Once it hits a target, the ammunition is no longer magical."]},{title:"Amulet of Proof Against Detection and Location",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceDMG.value,description:["While wearing this amulet, you are hidden from divination magic. You can't be targeted by such magic or perceived through magical scrying sensors."]},{title:"Amulet of the Devout",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("cleric or paladin")),source:SourceTashasCauldronOfEverything.value,description:["uncommon (+1), rare (+2), very rare (+3)","This amulet bears the symbol of a deity inlaid with precious stones or metals. While you wear the holy symbol, you gain a bonus to spell attack rolls and the saving throw DCs of your spells. The bonus is determined by the amulet's rarity.","While you wear this amulet, you can use your Channel Divinity feature without expending one of the feature's uses. Once this property is used, it can't be used again until the next dawn."]},{title:"Amulet of the Drunkard",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceExplorersGuideToWildemount.value,description:["This amulet smells of old, ale-stained wood. While wearing it, you can regain 4d4 + 4 hit points when you drink a pint of beer, ale, mead, or wine. Once the amulet has restored hit points, it can't do so again until the next dawn."]},{title:"Arcane Grimoire",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("wizard")),source:SourceTashasCauldronOfEverything.value,description:["uncommon (+1), rare (+2), very rare (+3)","While you are holding this leather-bound book, you can use it as a spellcasting focus for your wizard spells, and you gain a bonus to spell attack rolls and to the saving throw DCs of your wizard spells. The bonus is determined by the book's rarity.","You can use this book as a spellbook. In addition, when you use your Arcane Recovery feature, you can increase the number of spell slot levels you regain by 1."]},{title:"Armor Of Fungal Spores",rarity:RarityUncommon.value,type:new TypeArmor(new Just("medium")),attune:AttuneNone.value,source:SourceBookOfManyThings.value,description:["While wearing this armor, you can take a bonus action to make the armor emit poisonous spores, which fill a 10-foot-radius sphere centered on yourself. Each creature in that area must succeed on a DC 15 Constitution saving throw or have the poisoned condition until the end of your next turn. Once this property is used, it can't be used again until the next dawn."]},{title:"Armor Of The Fallen",rarity:RarityUncommon.value,type:new TypeArmor(new Just("medium or heavy")),attune:new Attune(Nothing.value),source:SourceBookOfManyThings.value,description:["While wearing this armor, you can use it to cast either Speak With Dead or Animate Dead. Once the armor has cast a spell in this way, it can't cast either spell until the next dawn.","Your soul keeps this armor together. If you die while you are attuned to the armor, the armor is destroyed."]},{title:"Armor Of Weightlessness",rarity:RarityUncommon.value,type:new TypeArmor(new Just("light, medium or heavy")),attune:new Attune(Nothing.value),source:SourceBookOfManyThings.value,description:["This armor has 5 charges. While you wear it, you can use a bonus action to expend 1 or more charges to cast one of the following spells from the armor, targeting yourself: Jump (1 charge) or Levitate (2 charges).","This armor regains 1d4 + 1 expended charges daily at dawn."]},{title:"Bag Of Bounty",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceWayfarersGuideToEberron.value,description:["This is a sturdy leather sack with tiny Siberys shards embedded into the lining. If you have the Mark of Hospitality you can use an action to cast Create Food and Water, drawing a feast from within the bag. You shape this meal with your thoughts. You can create the standard bland fare without requiring any sort of check, but you can attempt to create finer food by making a Charisma check; if you're proficient with cook's utensils, add your bonus to this check. A failed check results in a sour and squalid meal.","Food Quality: Poor - No roll required","Food Quality: Modest - 10","Food Quality: Comfortable - 13","Food Quality: Wealthy - 15","Food Quality: Aristocratic - 18","A bag of bounty can be used up to three times over the course of a day. After that, the bag can't be used again until the next dawn."]},{title:"Bag of Holding",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["This bag has an interior space considerably larger than its outside dimensions, roughly 2 feet in diameter at the mouth and 4 feet deep. The bag can hold up to 500 pounds, not exceeding a volume of 64 cubic feet. The bag weighs 15 pounds, regardless of its contents. Retrieving an item from the bag requires an action.","If the bag is overloaded, pierced, or torn, it ruptures and is destroyed, and its contents are scattered in the Astral Plane. If the bag is turned inside out, its contents spill forth, unharmed, but the bag must be put right before it can be used again. Breathing creatures inside the bag can survive up to a number of minutes equal to 10 divided by the number of creatures (minimum 1 minute), after which time they begin to suffocate.","Placing a bag of holding inside an extradimensional space created by a Heward's Handy Haversack, Portable Hole, or similar item instantly destroys both items and opens a gate to the Astral Plane. The gate originates where the one item was placed inside the other. Any creature within 10 feet of the gate is sucked through it to a random location on the Astral Plane. The gate then closes. The gate is one-way only and can't be reopened."]},{title:"Bag of Tricks",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["This ordinary bag, made from gray, rust, or tan cloth, appears empty. Reaching inside the bag, however, reveals the presence of a small, fuzzy object. The bag weighs 1/2 pound.","You can use an action to pull the fuzzy object from the bag and throw it up to 20 feet. When the object lands, it transforms into a creature you determine by rolling a d8 and consulting the table that corresponds to the bag's color. See the Monster Manual for the creature's statistics. The creature vanishes at the next dawn or when it is reduced to 0 hit points.","The creature is friendly to you and your companions, and it acts on your turn. You can use a bonus action to command how the creature moves and what action it takes on its next turn, or to give it general orders, such as to attack your enemies. In the absence of such orders, the creature acts in a fashion appropriate to its nature.","Once three fuzzy objects have been pulled from the bag, the bag can't be used again until the next dawn.","Grey Bag of Tricks:","1: Weasel","2: Giant rat","3: Badger","4: Boar","5: Panther","6: Giant badger","7: Dire wolf","8: Giant elk","","Rust Bag of Tricks:","1: Rat","2: Owl","3: Mastiff","4: Goat","5: Giant goat","6: Giant boar","7: Lion","8: Brown bear","","Tan Bag of Tricks:","1: Jackal","2: Ape","3: Baboon","4: Axe beak","5: Black bear","6: Giant weasel","7: Giant hyena","8: Tiger"]},{title:"Balance of Harmony",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceTalesFromTheYawningPortal.value,description:["This scale bears celestial symbols on one pan and fiendish symbols on the other. You can use the scale to cast Detect Evil and Good as a ritual. Doing so requires you to place the scale on a solid surface, then sprinkle the pans with holy water or place a transparent gem worth 100 gp in each pan. The scale remains motionless if it detects nothing, tips to one side or the other for good (consecrated) or evil (desecrated), and fluctuates slightly if it detects a creature appropriate to the spell but neither good nor evil. By touching the scales after casting the ritual, you instantly learn any information the spell can normally convey, and then the effect ends."]},{title:"Balloon Pack",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourcePrincesOfTheApocalypse.value,description:["This backpack contains the spirit of an air elemental and a compact leather balloon. While you're wearing the backpack, you can deploy the balloon as an action and gain the effect of the Levitate spell for 10 minutes, targeting yourself and requiring no concentration. Alternatively, you can use a reaction to deploy the balloon when you're falling and gain the effect of the Feather Fall spell for yourself.","When either spell ends, the balloon slowly deflates as the elemental spirit escapes and returns to the Elemental Plane of Air. As the balloon deflates, you descend gently toward the ground for up to 60 feet. If you are still in the air at the end of this distance, you fall if you have no other means of staying aloft.","After the spirit departs, the backpack's property is unusable unless the backpack is recharged for 1 hour in an elemental air node, which binds another spirit to the backpack."]},{title:"Barrier Tattoo",rarity:RarityUncommon.value,type:new TypeItem(new Just("tattoo")),attune:new Attune(Nothing.value),source:SourceTashasCauldronOfEverything.value,description:["Tattoo Attunement. To attune to this item, you hold the needle to your skin where you want the tattoo to appear, pressing the needle there throughout the attunement process. When the attunement is complete, the needle turns into the ink that becomes the tattoo, which appears on the skin.","If your attunement to the tattoo ends, the tattoo vanishes, and the needle reappears in your space.","Protection. While you aren't wearing armor, the tattoo grants you an Armor Class depending on the tattoo's rarity, as shown below. You can use a shield and still gain this benefit.","Uncommon: 12 + your Dexterity modifier","Rare: 15 + your Dexterity modifier (maximum of +2)","Very Rare: 18"]},{title:"Blasted Goggles",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceBookOfManyThings.value,description:["These tinker's goggles have 3 charges. As an action, you can expend 1 charge to shoot a beam of fiery light from the goggles at a creature you can see within 120 feet of yourself. The target must succeed on a DC 15 Dexterity saving throw or take 3d6 fire damage. The goggles regain 1d3 expended charges daily at dawn.","Cursed. The goggles are cursed, and becoming attuned to them extends the curse to you. You can't remove the goggles or end your attunement to them until you are targeted by a Remove Curse spell or similar magic.","Whenever you use the goggles' fiery beam and the target rolls a 20 on the d20 for the saving throw, the goggles expose you to a flash of violent bright light. As a result, you have the blinded condition for 24 hours."]},{title:"Blood of the Lycanthrope Antidote",rarity:RarityUncommon.value,type:TypePotion.value,attune:AttuneNone.value,source:SourceInfernalMachineRebuild.value,description:["This clear potion has dark red flecks within, resembling clotted blood. When you drink this potion, it removes the curse of lycanthropy from you if that curse was imposed by a lycanthrope's bite or similar effect."]},{title:"Blood Spear",rarity:RarityUncommon.value,type:new TypeWeapon(new Just("spear")),attune:new Attune(Nothing.value),source:SourceCurseOfStrahd.value,description:["Kavan was a ruthless chieftain whose tribe lived in the Balinok Mountains centuries before the arrival of Strahd von Zarovich. Although he was very much alive, Kavan had some traits in common with vampires: he slept during the day and hunted at night, he drank the blood of his prey, and be lived underground. in battle, he wielded a spear stained with blood. His was the first blood spear, a weapon that drains life from those it kills and transfers that life to its wielder, imbuing that individual with the stamina to keep fighting.","When you hit with a melee attack using this magic spear and reduce the target to 0 hit points, you gain 2d6 temporary hit points."]},{title:"Bloodrage Greataxe",rarity:RarityUncommon.value,type:new TypeWeapon(new Just("greataxe")),attune:AttuneNone.value,source:SourceBookOfManyThings.value,description:["You gain a +2 bonus to attack and damage rolls made with this magic greataxe while you have half your hit points or fewer."]},{title:"Bloodwell Vial",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("sorceror")),source:SourceTashasCauldronOfEverything.value,description:["uncommon (+1), rare (+2), very rare (+3)","To attune to this vial, you must place a few drops of your blood into it. The vial can't be opened while your attunement to it lasts. If your attunement to the vial ends, the contained blood turns to ash. You can use the vial as a spellcasting focus for your spells while wearing or holding it, and you gain a bonus to spell attack rolls and to the saving throw DCs of your sorcerer spells. The bonus is determined by the vial's rarity.","In addition, when you roll any Hit Dice to recover hit points while you are carrying the vial, you can regain 5 sorcery points. This property of the vial can't be used again until the next dawn."]},{title:"Boomerang Shield",rarity:RarityUncommon.value,type:new TypeArmor(new Just("shield")),attune:new Attune(Nothing.value),source:SourceBookOfManyThings.value,description:["You can make a ranged weapon attack with this magic shield. It has a normal range of 20 feet and a long range of 60 feet, and it uses your Strength or Dexterity for the attack roll (your choice). If you're proficient with shields, you are proficient with attacks made using this shield. On a hit, it deals 1d6 slashing damage. If you throw the shield, it reappears in your hand the instant after it hits or misses a target.","A shield is made from wood or metal and is carried in one hand. Wielding a shield increases your Armor Class by 2. You can benefit from only one shield at a time."]},{title:"Boots of Elvenkind",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["While you wear these boots, your steps make no sound, regardless of the surface you are moving across. You also have advantage on Dexterity (Stealth) checks that rely on moving silently."]},{title:"Boots of Striding and Springing",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceDMG.value,description:["While you wear these boots, your walking speed becomes 30 feet, unless your walking speed is higher, and your speed isn't reduced if you are encumbered or wearing heavy armor. In addition, you can jump three times the normal distance, though you can't jump farther than your remaining movement would allow."]},{title:"Boots of the Winterlands",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceDMG.value,description:["These furred boots are snug and feel quite warm. While you wear them, you gain the following benefits:","* You have resistance to cold damage.","* You ignore difficult terrain created by ice or snow.","* You can tolerate temperatures as low as -50 degrees Fahrenheit without any additional protection. If you wear heavy clothes, you can tolerate temperatures as low as -100 degrees Fahrenheit."]},{title:"Bottled Breath",rarity:RarityUncommon.value,type:TypePotion.value,attune:AttuneNone.value,source:SourceDMG.value,description:["This bottle contains a breath of elemental air. When you inhale it, you either exhale it or hold it.","If you exhale the breath, you gain the effect of the Gust of Wind spell. If you hold the breath, you don't need to breathe for 1 hour, though you can end this benefit early (for example, to speak). Ending it early doesn't give you the benefit of exhaling the breath."]},{title:"Bracers of Archery",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceDMG.value,description:["While wearing these bracers, you have proficiency with the longbow and shortbow, and you gain a +2 bonus to damage rolls on ranged attacks made with such weapons."]},{title:"Brooch of Living Essence",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceExplorersGuideToWildemount.value,description:["While wearing this nondescript brooch, spells and anything else that would detect or reveal your creature type treat you as humanoid, and those that would reveal your alignment treat it as neutral."]},{title:"Brooch of Shielding",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceDMG.value,description:["While wearing this brooch, you have resistance to force damage, and you have immunity to damage from the Magic Missile spell."]},{title:"Broom of Flying",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["This wooden broom, which weighs 3 pounds, functions like a mundane broom until you stand astride it and speak its command word. It then hovers beneath you and can be ridden in the air. It has a flying speed of 50 feet. It can carry up to 400 pounds, but its flying speed becomes 30 feet while carrying over 200 pounds. The broom stops hovering when you land","You can send the broom to travel alone to a destination within 1 mile of you if you speak the command word, name the location, and are familiar with that place. The broom comes back to you when you speak another command word, provided that the broom is still within 1 mile of you."]},{title:"Cap of Water Breathing",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["While wearing this cap underwater, you can speak its command word as an action to create a bubble of air around your head. It allows you to breathe normally underwater. This bubble stays with you until you speak the command word again, the cap is removed, or you are no longer underwater."]},{title:"Card Sharp's Deck",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceBookOfManyThings.value,description:["The cards of this deck shimmer around the edges. While holding this deck, you can use the following properties:","Deadly Deal. As an action, you can use this deck to make a ranged spell attack by throwing a spectral card and using Dexterity for the attack roll. The card has a range of 120 feet and deals 1d8 force damage on a hit.","Spray of Cards. As an action, you can shuffle the deck and cast the Spray of Cards spell at 3rd level from the deck (spell save DC 15). Once the deck has cast the spell, it can't cast the spell again until the next dawn."]},{title:"Circlet of Blasting",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["While wearing this circlet, you can use an action to cast the Scorching Ray spell with it. When you make the spell's attacks, you do so with an attack bonus of +5. The circlet can't be used this way again until the next dawn."]},{title:"Circlet of Human Perfection",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("humanoid")),source:SourceWaterdeepDungeonOfTheMadMage.value,description:["The Circlet of Human Perfection transforms its attuned wearer into an attractive human of average height and weight. The circlet chooses the physical characteristics of the form, such as age, gender, skin color, hair color, and voice. Except for size, the wearer's statistics and racial traits don't change, nor do items worn or carried by the wearer.","Removing the circlet ends the effect."]},{title:"Cloak of Elvenkind",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceDMG.value,description:["While you wear this cloak with its hood up, Wisdom (Perception) checks made to see you have disadvantage, and you have advantage on Dexterity (Stealth) checks made to hide, as the cloak's color shifts to camouflage you. Pulling the hood up or down requires an action."]},{title:"Cloak of Protection",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceDMG.value,description:["You gain a +1 bonus to AC and saving throws while you wear this cloak."]},{title:"Cloak of the Manta Ray",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["While wearing this cloak with its hood up, you can breathe underwater, and you have a swimming speed of 60 feet. Pulling the hood up or down requires an action."]},{title:"Coiling Grasp Tattoo",rarity:RarityUncommon.value,type:new TypeItem(new Just("tattoo")),attune:new Attune(Nothing.value),source:SourceTashasCauldronOfEverything.value,description:["Produced by a special needle, this magic tattoo has long intertwining designs.","Tattoo Attunement. To attune to this item, you hold the needle to your skin where you want the tattoo to appear, pressing the needle there throughout the attunement process. When the attunement is complete, the needle turns into the ink that becomes the tattoo, which appears on the skin.","If your attunement to the tattoo ends, the tattoo vanishes, and the needle reappears in your space.","Grasping Tendrils. While the tattoo is on your skin, you can, as an action, cause the tattoo to extrude into inky tendrils, which reach for a creature you can see within 15 feet of you. The creature must succeed on a DC 14 Strength saving throw or take 3d6 force damage and be grappled by you. As an action, the creature can escape the grapple by succeeding on a DC 14 Strength (Athletics) or Dexterity (Acrobatics) check. The grapple also ends if you halt it (no action required), if the creature is ever more than 15 feet away from you, or if you use this tattoo on a different creature."]},{title:"Cracked Driftglobe",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCandleDeepMysteries.value,description:["This small sphere of thick glass weighs 1 pound. If you are within 60 feet of it, you can speak its command word cause it to emanate the Light spell."]},{title:"Cursed Luckstone",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceGhostsOfSaltmarsh.value,description:["This flat, gray-and-black river stone is inscribed with an unknown arcane symbol and feels cool to the touch. While carrying the stone, you can gain advantage on one ability check of your choice. The stone can't be used this way again until the next dawn.","Curse. This item is cursed. Attuning to it curses you until you are targeted by a remove curse spell or similar magic. As long as you remain cursed, you cannot discard the stone, which immediately teleports back into your pocket or pack. After you use the stone's magic, your next two ability checks are made with disadvantage."]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]},{title:"",rarity:RarityUncommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:[""]}]}();var rareItems=function(){return[{title:"Acheron Blade",rarity:RarityRare.value,type:new TypeWeapon(new Just("any sword")),attune:new Attune(Nothing.value),source:SourceExplorersGuideToWildemount.value,description:["The black blade of this sword is crafted from a mysterious arcane alloy. You gain a +1 bonus to attack and damage rolls made with this magic weapon. While the sword is on your person, you are immune to effects that turn undead.","Dark Blessing. While holding the sword, you can use an action to give yourself 1d4 + 4 temporary hit points. This property can't be used again until the next dusk.","Disheartening Strike. When you hit a creature with an attack using this weapon, you can fill the target with unsettling dread: the target has disadvantage on the next saving throw it makes before the end of your next turn. The creature ignores this effect if it's immune to the frightened condition. Once you use this property, you can't do so again until the next dusk."]}]}();var legendaryItems=function(){return[{title:"Apparatus of Kwalish",rarity:RarityLegendary.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceDMG.value,description:["This item first appears to be a Large sealed iron barrel weighing 500 pounds. The barrel has a hidden catch, which can be found with a successful DC 20 Intelligence (Investigation) check. Releasing the catch unlocks a hatch at one end of the barrel, allowing two Medium or smaller creatures to crawl inside. Ten levers are set in a row at the far end, each in a neutral position, able to move either up or down. When certain levers are used, the apparatus transforms to resemble a giant lobster.","The apparatus of Kwalish is a Large object with the following statistics:","Armor Class: 20","Hit Points: 200","Speed: 30 ft., swim 30 ft., (or 0ft, for both if the legs and tail aren't extended)","To be used as a vehicle, the apparatus requires one pilot. While the apparatus's hatch is closed, the compartment is airtight and watertight. The compartment holds enough air for 10 hours of breathing, divided by the number of breathing creatures inside.","The apparatus floats on water. It can also go underwater to a depth of 900 feet. Below that, the vehicle takes 2d6 bludgeoning damage per minute from pressure.","A creature in the compartment can use an action to move as many as two of the apparatus's levers up or down. After each use, a lever goes back to its neutral position. Each lever, from left to right, functions as shown in the Apparatus of Kwalish Levers table.","Apparatus of Kwalish Levers:","Lever 1 Up:    Legs and tail extend, allowing the apparatus to walk and swim.","Lever 1 Down:  Legs and tail retract, reducing the apparatus's speed to 0 and making it unable to benefit from bonuses to speed.","Lever 2 Up:    Forward window shutter opens.","Lever 2 Down:  Forward window shutter closes.","Lever 3 Up:    Side window shutters open (two per side).","Lever 3 Down:  Side window shutters close (two per side).","Lever 4 Up:    Two claws extend from the front sides of the apparatus.","Lever 4 Down:  The claws retract.","Lever 5 Up:    Each extended claw makes the following melee weapon attack: +8 to hit, reach 5 ft., one target. Hit: 7 (2d6) bludgeoning damage.","Lever 5 Down:  Each extended claw makes the following melee weapon attack: +8 to hit, reach 5 ft., one target. Hit: The target is grappled (escape DC 15).","Lever 6 Up:    The apparatus walks or swims forward.","Lever 6 Down:  The apparatus walks or swims backward.","Lever 7 Up:    The apparatus turns 90 degrees left.","Lever 7 Down:  The apparatus turns 90 degrees right.","Lever 8 Up:    Eyelike fixtures emit bright light in a 30-foot radius and dim light for an additional 30 feet.","Lever 8 Down:  The light turns off.","Lever 9 Up:    The apparatus sinks as much as 20 feet in liquid.","Lever 9 Down:  The apparatus rises up to 20 feet in liquid.","Lever 10 Up: \tThe rear hatch unseals and opens.","Lever 10 Down: The rear hatch closes and seals."]}]}();var commonItems=function(){return[{title:"Armblade",rarity:RarityCommon.value,type:new TypeWeapon(new Just("any one-handed melee weapon")),attune:new Attune(new Just("warforged")),source:SourceWayfarersGuideToEberron.value,description:["An armblade is a magic weapon that attaches to your arm, becoming inseparable from you as long as you're attuned to it. To attune to this item, you must hold it against your forearm for the entire attunement period.","As a bonus action, you can retract the armblade into your forearm or extend it from there. While it is extended, you can use the weapon as if you were holding it, and you can't use that hand for other purposes."]},{title:"Armor of Gleaming",rarity:RarityCommon.value,type:new TypeArmor(new Just("any medium or heavy")),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This armor never gets dirty."]},{title:"Band of Loyalty",rarity:RarityCommon.value,type:TypeRing.value,attune:new Attune(Nothing.value),source:SourceWayfarersGuideToEberron.value,description:["If you are reduced to 0 hit points while attuned to a Band of Loyalty, you instantly die. These rings are favored by spies who can't afford to fall into enemy hands."]},{title:"Bead of Nourishment",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This spongy, flavorless, gelatinous bead dissolves on your tongue and provides as much nourishment as 1 day of rations."]},{title:"Bead of Refreshment",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This spongy, flavorless, gelatinous bead dissolves in liquid, transforming up to a pint of the liquid into fresh, cold drinking water. The bead has no effect on magical liquids or harmful substances such as poison."]},{title:"Boots of False Tracks",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["Only humanoids can wear these boots. While wearing the boots, you can choose to have them leave tracks like those of another kind of humanoid of your size."]},{title:"Bottle of Boundless Coffee",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceStrixhaveCurriculumOfChaos.value,description:["This metal bottle carries delicious, warm coffee. The bottle comes with a stopper, which is attached to the bottle by a little chain. Even when open, the bottle won't accept any liquid other than the coffee it produces. The coffee inside is always comfortably warm, and none of the heat can be felt through the bottle.","Each time you drink the coffee, roll a d20. On a 1, the bottle refuses to dispense coffee for the next hour. If you pour coffee from the bottle, rather than drinking from it, the coffee vanishes the moment it leaves the bottle."]},{title:"Breathing Bubble",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceExplorersGuideToWildemount.value,description:["This translucent, bubble-like sphere has a slightly tacky outer surface, and you gain the item's benefits only while wearing it over your head like a helmet.","The bubble contains 1 hour of breathable air. The bubble regains all its expended air daily at dawn."]},{title:"Candle of the Deep",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["The flame of this candle is not extinguished when immersed in water. It gives off light and heat like a normal candle."]},{title:"Cast-Off Armor",rarity:RarityCommon.value,type:new TypeArmor(new Just("light, medium or heavy")),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["You can doff this armor as an action."]},{title:"Charlatan's Die",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceXanatharsGuideToEverything.value,description:["Whenever you roll this six-sided die, you can control which number it rolls."]},{title:"Chest of Preserving",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceWaterdeepDungeonOfTheMadMage.value,description:["This common wondrous item has the following magical property: food and other perishable items do not age or decay while inside it. The chest is 2½ feet long, 1½ feet wide and 1 foot tall with a half barrel lid. It weighs 25 pounds."]},{title:"Cleansing Stone",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceEberronRisingFromTheLastWar.value,description:["A cleansing stone is a sphere 1 foot in diameter, engraved with mystic sigils. When touching the stone, you can use an action to activate it and remove dirt and grime from your garments and your person.","Such stones are often embedded in pedestals in public squares in Aundair or in high-end Ghallanda inns."]},{title:"Cloak of Billowing",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["While wearing this cloak, you can use a bonus action to make it billow dramatically."]},{title:"Cloak of Many Fashions",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["While wearing this cloak, you can use a bonus action to change the style, color, and apparent quality of the garment. The cloak's weight doesn't change. Regardless of its appearance, the cloak can't be anything but a cloak. Although it can duplicate the appearance of other magic cloaks, it doesn't gain their magical properties."]},{title:"Clockwork Amulet",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This copper amulet contains tiny interlocking gears and is powered by magic from Mechanus, a plane of clockwork predictability. A creature that puts an ear to the amulet can hear faint ticking and whirring noises coming from within.","When you make an attack roll while wearing the amulet, you can forgo rolling the d20 to get a 10 on the die. Once used, this property can't be used again until the next dawn."]},{title:"Clothes of Mending",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This elegant outfit of traveler's clothes magically mends itself to counteract daily wear and tear. Pieces of the outfit that are destroyed can't be repaired in this way."]},{title:"Coin of Delving",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceExplorersGuideToWildemount.value,description:["This scintillating copper coin sheds dim light in a 5-foot radius. If dropped a distance greater than 5 feet, the coin issues a melodious ringing sound when it hits a surface. Any creature that can hear the chime can determine the distance the coin dropped based on the tone."]},{title:"Cuddly Strixhaven Mascot",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceStrixhaveCurriculumOfChaos.value,description:["Representing one of the mascots of Strixhaven, this soft, Tiny, magic toy is perfect for cuddling. If you press it to your arm, shoulder, or leg as an action, the toy stays attached there for 1 hour or until you use an action to remove it.","The toy can also be used to fight off fear. When you make a saving throw to avoid or end the frightened condition on yourself, you can give yourself advantage on the roll if the toy is on your person. You must decide to do so before rolling the d20. If the save succeeds, you can't use the toy in this way until you finish a long rest."]},{title:"Dark Shard Amulet",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("Warlock")),source:SourceXanatharsGuideToEverything.value,description:["This amulet is fashioned from a single shard of resilient extraplanar material originating from the realm of your warlock patron. While you are wearing it, you gain the following benefits:","* You can use the amulet as a spellcasting focus for your warlock spells.","* You can try to cast a cantrip that you don't know. The cantrip must be on the Warlock spell list, and you must make a DC 10 Intelligence (Arcana) check. If the check succeeds, you cast the spell. If the check fails, so does the spell, and the action used to cast the spell is wasted. In either case, you can't use this property again until you finish a long rest."]},{title:"Dread Helm",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This fearsome steel helm makes your eyes glow red while you wear it."]},{title:"Ear Horn of Hearing",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["While held up to your ear, this horn suppresses the effects of the deafened condition on you, allowing you to hear normally."]},{title:"Earring of Message",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCriticalRoleCallOfNetherdeep.value,description:["The blue crystal of this earring is wrapped with delicate copper wire. The earring has 5 charges. While wearing it, you can use an action to expend 1 charge and cast the Message spell. The earring regains 1d4 + 1 expended charges daily at dawn."]},{title:"Enduring Spellbook",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This spellbook, along with anything written on its pages, can't be damaged by fire or immersion in water. In addition, the spellbook doesn't deteriorate with age."]},{title:"Ersatz Eye",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceXanatharsGuideToEverything.value,description:["This artificial eye replaces a real one that was lost or removed. While the ersatz eye is embedded in your eye socket, it can't be removed by anyone other than you, and you can see through the tiny orb as though it were a normal eye."]},{title:"Everbright Lantern",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceEberronRisingFromTheLastWar.value,description:["This bullseye lantern contains an Eberron dragonshard that sheds light comparable to that produced by a Continual Flame spell. An everbright lantern sheds light in a 120-foot cone; the closest 60 feet is bright light, and the farthest 60 feet is dim light."]},{title:"Feather Token",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceEberronRisingFromTheLastWar.value,description:["This small metal disk is inscribed with the image of a feather. When you fall at least 20 feet while the token is on your person, you descend 60 feet per round and take no damage from falling. The token's magic is expended after you land, whereupon the disk becomes nonmagical."]},{title:"Glamerweave",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceEberronRisingFromTheLastWar.value,description:["Glamerweave is clothing imbued with harmless illusory magic. While wearing the common version of these clothes, you can use a bonus action to create a moving illusory pattern within the cloth.","Uncommon glamerweave can have the pattern rise from the cloth. For example, a glamerweave gown might be wreathed in harmless, illusory flames, while a glamerweave hat might have illusory butterflies fluttering around it.","When you make a Charisma (Performance) or Charisma (Persuasion) check while wearing the uncommon version of glamerweave, you can roll a d4 and add the number rolled to the check. Once you use this property, it can't be used again until the next dawn."]},{title:"Hat of Vermin",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This hat has 3 charges. While holding the hat, you can use an action to expend 1 of its charges and speak a command word that summons your choice of a bat, a frog, or a rat (see the Player's Handbook or the Monster Manual for statistics). The summoned creature magically appears in the hat and tries to get away from you as quickly as possible. The creature is neither friendly nor hostile, and it isn't under your control. It behaves as an ordinary creature of its kind and disappears after 1 hour or when it drops to 0 hit points. The hat regains all expended charges daily at dawn."]},{title:"Hat of Wizardry",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("Wizard")),source:SourceXanatharsGuideToEverything.value,description:["This antiquated, cone-shaped hat is adorned with gold crescent moons and stars. While you are wearing it, you gain the following benefits:","* You can use the hat as a spellcasting focus for your wizard spells.","* You can try to cast a cantrip that you don't know. The cantrip must be on the Wizard spell list, and you must make a DC 10 Intelligence (Arcana) check. If the check succeeds, you cast the spell. If the check fails, so does the spell, and the action used to cast the spell is wasted. In either case, you can't use this property again until you finish a long rest."]},{title:"Heward's Handy Spice Pouch",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This belt pouch appears empty and has 10 charges. While holding the pouch, you can use an action to expend 1 of its charges, speak the name of any nonmagical food seasoning (such as salt, pepper, saffron, or cilantro), and remove a pinch of the desired seasoning from the pouch. A pinch is enough to season a single meal. The pouch regains 1d6 + 4 expended charges daily at dawn."]},{title:"Horn of Silent Alarm",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This horn has 4 charges. When you use an action to blow it, one creature of your choice can hear the horn's blare, provided the creature is within 600 feet of the horn and not deafened. No other creature hears sound coming from the horn. The horn regains 1d4 expended charges daily at dawn."]},{title:"Illuminator's Tattoo",rarity:RarityCommon.value,type:new TypeItem(new Just("tattoo")),attune:new Attune(Nothing.value),source:SourceTashasCauldronOfEverything.value,description:["Produced by a special needle, this magic tattoo features beautiful calligraphy, images of writing implements, and the like.","Tattoo Attunement. To attune to this item, you hold the needle to your skin where you want the tattoo to appear, pressing the needle there throughout the attunement process. When the attunement is complete, the needle turns into the ink that becomes the tattoo, which appears on the skin.","If your attunement to the tattoo ends, the tattoo vanishes, and the needle reappears in your space","Magical Scribing. While this tattoo is on your skin, you can write with your fingertip as if it were an ink pen that never runs out of ink.","As an action, you can touch a piece of writing up to one page in length and speak a creature's name. The writing becomes invisible to everyone other than you and the named creature for the next 24 hours. Either of you can dismiss the invisibility by touching the script (no action required). Once used, this action can't be used again until the next dawn."]},{title:"Imbued Wood Focus",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceEberronRisingFromTheLastWar.value,description:["An imbued wood focus is a rod, staff, or wand cut from a tree infused with extraplanar energy. If you're a spellcaster, you can use this orb as a spellcasting focus.","When you cast a damage-dealing spell using this item as your spellcasting focus, you gain a +1 bonus to one damage roll of the spell, provided the damage is of the type associated with the item's wood. The types of wood and their associated damage types are listed in the Imbued Wood Focus table.","Wood:","Fernian Ash: Fire","Irian Rosewood: Radiant","Kythrian Manchineel: Acid or poison","Lamannian Oak: Lightning or thunder","Mabaran Ebony: Necrotic","Risian Pine: Cold","Shavarran Birch: Force","Xorian Wenge: Psychic "]},{title:"Instrument of Illusions",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceXanatharsGuideToEverything.value,description:["While you are playing this musical instrument, you can create harmless, illusory visual effects within a 5-foot-radius sphere centered on the instrument. If you are a bard, the radius increases to 15 feet. Sample visual effects include luminous musical notes, a spectral dancer, butterflies, and gently falling snow. The magical effects have neither substance nor sound, and they are obviously illusory. The effects end when you stop playing."]},{title:"Instrument of Scribing",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceXanatharsGuideToEverything.value,description:["This musical instrument has 3 charges. While you are playing it, you can use an action to expend 1 charge from the instrument and write a magical message on a nonmagical object or surface that you can see within 30 feet of you. The message can be up to six words long and is written in a language you know. If you are a bard, you can scribe an additional seven words and choose to make the message glow faintly, allowing it to be seen in nonmagical darkness. Casting Dispel Magic on the message erases it. Otherwise, the message fades away after 24 hours.","The instrument regains all expended charges daily at dawn."]},{title:"Keycharm",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("a creature with a Mark of Warding")),source:SourceEberronRisingFromTheLastWar.value,description:["This small stylized key plays a vital role in the work of House Kundarak. If you cast the Alarm, Arcane Lock, or Glyph of Warding spell, you can tie the effect to the keycharm so that whoever holds it receives the notification from the Alarm spell, bypasses the lock of the Arcane Lock spell, or avoids triggering the glyph placed by the Glyph of Warding spell. In addition, the holder (who needn't be attuned to the item) can take an action to end any one spell tied to it, provided the holder knows the command word you set for ending the tied spells. The keycharm can have up to three tied spells at one time."]},{title:"Lantern of Tracking",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceIcewindDaleRimeOfTheFrostmaiden.value,description:["This hooded lantern burns for 6 hours on 1 pint of oil, shedding bright light in a 30-foot-radius and dim light for an additional 30 feet.","Each Lantern of Tracking is designed to track down a certain type of creature, which is determined by rolling this creature type on the Lantern of Tracking table. Once determined, this creature type can't be changed. While the lantern is within 300 feet of any creature of that type, its flame turns bright green. The lantern doesn't pinpoint the creature's exact location, however.","On a roll of d10:","1: Aberrations","2: Celestials","3: Constructs","4: Dragons","5: Elementals","6: Fey","7: Fiends","8: Giants","9: Monstrosities","10: Undead"]},{title:"Lock of Trickery",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This lock appears to be an ordinary lock (of the type described in chapter 5 of the Player's Handbook) and comes with a single key. The tumblers in this lock magically adjust to thwart burglars. Dexterity checks made to pick the lock have disadvantage."]},{title:"Masque Charm",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceStrixhaveCurriculumOfChaos.value,description:["A masque charm is a small silver pin. While wearing this charm, you can use an action to cast the Disguise Self spell (DC 13 to discern the disguise). Once the spell is cast, it can't be cast from the charm again until the next sunset. When casting the spell, you can have the spell last for its normal 1 hour duration or for 6 hours. If you choose the 6-hour duration, the charm becomes nonmagical when the spell ends. In either case, the spell ends if the charm is removed from you."]},{title:"Masquerade Tattoo",rarity:RarityCommon.value,type:new TypeItem(new Just("tattoo")),attune:new Attune(Nothing.value),source:SourceTashasCauldronOfEverything.value,description:["Produced by a special needle, this magic tattoo appears on your body as whatever you desire","Tattoo Attunement. To attune to this item, you hold the needle to your skin where you want the tattoo to appear, pressing the needle there throughout the attunement process. When the attunement is complete, the needle turns into the ink that becomes the tattoo, which appears on the skin.","If your attunement to the tattoo ends, the tattoo vanishes, and the needle reappears in your space.","Fluid Ink. As a bonus action, you can shape the tattoo into any color or pattern and move it to any area of your skin. Whatever form it takes, it is always obviously a tattoo. It can range in size from no smaller than a copper piece to an intricate work of art that covers all your skin.","Disguise Self. As an action, you can use the tattoo to cast the Disguise Self spell (DC 13 to discern the disguise). Once the spell is cast from the tattoo, it can't be cast from the tattoo again until the next dawn."]},{title:"Medal of Muscle",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCriticalRoleCallOfNetherdeep.value,description:["You can squeeze this medal tightly in the palm of your hand as an action. Doing so gives you advantage on Strength checks and Strength saving throws for 1 hour. Once this property has been used, it can't be used again, and the medal becomes nonmagical."]},{title:"Medal of the Conch",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCriticalRoleCallOfNetherdeep.value,description:["When you use an action to rub this medal, you gain a swimming speed equal to your walking speed for 1 hour. Once this property has been used, it can't be used again, and the medal becomes nonmagical."]},{title:"Medal of the Horizonback",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCriticalRoleCallOfNetherdeep.value,description:["When you would be hit by an attack, you can use your reaction to increase your AC by 5 until the start of your next turn, including against the triggering attack. You must be wearing the medal and able to see the creature that made the triggering attack to use this property. Once this property has been used, it can't be used again, and the medal becomes nonmagical."]},{title:"Medal of the Maze",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCriticalRoleCallOfNetherdeep.value,description:["When you use an action to trace the maze inscribed on this medal, you gain advantage on Wisdom checks and know the quickest route to the end of any nonmagical path or maze for 1 hour. Once this property has been used, it can't be used again, and the medal becomes nonmagical."]},{title:"Medal of the Meat Pie",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCriticalRoleCallOfNetherdeep.value,description:["You gain 2d4 + 2 temporary hit points when you use an action to press this medal to your mouth. Once this property has been used, it can't be used again, and the medal becomes nonmagical.","While magical, this medal is slightly warm to the touch (as if it's fresh from the oven) and smells faintly of baked pie crust."]},{title:"Medal of the Wetlands",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCriticalRoleCallOfNetherdeep.value,description:["When you use an action to trace the edge of this medal, difficult terrain doesn't cost you extra movement for 1 hour. Once this property has been used, it can't be used again, and the medal becomes nonmagical."]},{title:"Medal of Wit",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceCriticalRoleCallOfNetherdeep.value,description:["You can press this medal to your temple as an action. Doing so gives you advantage on Intelligence checks and Intelligence saving throws for 1 hour. Once this property has been used, it can't be used again, and the medal becomes nonmagical."]},{title:"Mind Crystal",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourcePhandelverAndBelowTheShatteredObelisk.value,description:["These gemstones contain a crystallized bit of spellcasting magic. Different types of mind crystals exist, each with a different single-use effect.","When you cast a spell that has a casting time of 1 action while holding a mind crystal, you can modify the spell in a specific way that has an effect described below. You can use only a single mind crystal to modify the spell, and you can't use a mind crystal and a Metamagic option on the same spell. Once you use a mind crystal, it becomes a nonmagical gem worth 50 gp.","Careful (Uncommon). Choose up to three creatures affected by the spell. The chosen creatures automatically succeed on their saving throws against the spell.","Distant (Uncommon). If the spell has a range of 5 feet or more and doesn't have a range of self, the spell's range increases by 100 feet. If the spell has a range of touch, its range becomes 30 feet.","Empowered (Uncommon). When you roll damage for the spell, you can reroll up to three damage dice. You must use the new rolls.","Extended (Uncommon). If the spell has a duration of 1 minute or longer, double the spell's duration, to a maximum duration of 24 hours.","Heightened (Rare). Choose one creature affected by the spell. That creature has disadvantage on the first saving throw it makes against the spell.","Quickened (Rare). You change the spell's casting time to 1 bonus action for this casting.","Subtle (Common). You cast the spell without any somatic or verbal components for this casting."]},{title:"Moodmark Paint",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceGuildmastersGuideToRavnica.value,description:["This thick, black paint is stored in a small jar, containing enough paint to apply moodmarks to one creature. The paint is dabbed on the face in spots or markings that often resemble the eyes of insects or spiders. Applying the paint in this way takes 1 minute.","For the next 8 hours, the marks change to reflect your mental state. A creature that can see you and makes a successful DC 10 Wisdom (Insight) check can discern whether you are happy, sad, angry, disgusted, surprised, or afraid, as well as the main source of that emotion. For example, you might communicate fear caused by a monster you just saw around the corner, grief at the loss of a friend, or happiness derived from pride in your performance in combat. A dark elf has advantage on this check."]},{title:"Moon-Touched Sword",rarity:RarityCommon.value,type:new TypeWeapon(new Just("any sword")),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["In darkness, the unsheathed blade of this sword sheds moonlight, creating bright light in a 15-foot radius and dim light for an additional 15 feet."]},{title:"Mystery Key",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["A question mark is worked into the head of this key. The key has a 5 percent chance of unlocking any lock into which it's inserted. Once it unlocks something, the key disappears."]},{title:"Orb of Direction",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["While holding this orb, you can use an action to determine which way is north. This property functions only on the Material Plane."]},{title:"Orb of Gonging",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceWaterdeepDungeonOfTheMadMage.value,description:["This common wondrous item is a hollow, 5-inch-diameter orb that weighs 5 pounds. Its outer shell is composed of notched bronze rings, which can be turned so that the notches line up. Aligning the notches requires an action, and doing so causes the orb to gong loudly until the notches are no longer aligned. The sounds are spaced 6 seconds apart and can be heard out to range of 600 feet."]},{title:"Orb of Shielding",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceEberronRisingFromTheLastWar.value,description:["An orb of shielding is a polished, spherical chunk of crystal or stone aligned to one of the planes of existence. If you're a spellcaster, you can use this orb as a spellcasting focus.","If you're holding the orb when you take damage of the type associated with the orb's material, you can use your reaction to reduce the damage by 1d4 (to a minimum of 0). The materials and their associated damage types are listed in the Orb of Shielding table.","Fernian basalt: Fire","Irian quartz: Radiant","Kythrian skarn: Acid and poison","Lamannian flint: Lightning and thunder","Mabaran obsidian: Necrotic","Risian shale: Cold","Shavarran chert: Force","Xorian marble: Psychic"]},{title:"Orb of Time",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["While holding this orb, you can use an action to determine whether it is morning, afternoon, evening, or nighttime outside. This property functions only on the Material Plane."]},{title:"Perfume of Bewitching",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This tiny vial contains magic perfume, enough for one use. You can use an action to apply the perfume to yourself, and its effect lasts 1 hour. For the duration, you have advantage on all Charisma checks directed at humanoids of challenge rating 1 or lower. Those subjected to the perfume's effect are not aware that they've been influenced by magic."]},{title:"Pipe of Remembrance",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceGhostsOfSaltmarsh.value,description:["This long, delicate wooden pipe features a bowl made from smooth river stone. When the pipe is lit. smoke exhaled from it does not dissipate, instead lingering around the bearer. After 10 minutes, the smoke forms moving shapes that reenact the bearer's most impressive and heroic achievements for 5 minutes. When this realistic performance is complete, the smoke dissipates. The pipe can't be used this way again until the next dawn."]},{title:"Pipe of Smoke Monsters",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["While smoking this pipe, you can use an action to exhale a puff of smoke that takes the form of a single creature, such as a dragon, a flumph, or a froghemoth. The form must be small enough to fit in a 1-foot cube and loses its shape after a few seconds, becoming an ordinary puff of smoke."]},{title:"Pole of Angling",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["While holding this 10-foot pole, you can speak a command word and transform it into a fishing pole with a hook, a line, and a reel. Speaking the command word again changes the fishing pole back into a normal 10-foot pole."]},{title:"Pole of Collapsing",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["While holding this 10-foot pole, you can use an action to speak a command word and cause it to collapse into a 1-foot-long rod, for ease of storage. The pole's weight doesn't change. You can use an action to speak a different command word and cause the rod to revert to a pole; however, the rod will elongate only as far as the surrounding space allows."]},{title:"Pot of Awakening",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["If you plant an ordinary shrub in this 10-pound clay pot and let it grow for 30 days, the shrub magically transforms into an awakened shrub (see the Monster Manual for statistics) at the end of that time. When the shrub awakens, its roots break the pot, destroying it.","The awakened shrub is friendly toward you. Absent commands from you, it does nothing."]},{title:"Potion of Climbing",rarity:RarityCommon.value,type:TypePotion.value,attune:AttuneNone.value,source:SourceDMG.value,description:["When you drink this potion, you gain a climbing speed equal to your walking speed for 1 hour. During this time, you have advantage on Strength (Athletics) checks you make to climb. The potion is separated into brown, silver, and gray layers resembling bands of stone. Shaking the bottle fails to mix the colors."]},{title:"Potion of Healing",rarity:RarityCommon.value,type:TypePotion.value,attune:AttuneNone.value,source:SourceDMG.value,description:["You regain hit points when you drink this potion. The number of hit points depends on the potion's rarity, as shown in the Potions of Healing table. Whatever its potency, the potion's red liquid glimmers when agitated.","Healing (Common): 2d4 + 2","Greater healing (Uncommon): 4d4 + 4","Superior healing (Rare): 8d4 + 8","Supreme healing (Very rare): 10d4 + 20"]},{title:"Potion of Watchful Rest",rarity:RarityCommon.value,type:TypePotion.value,attune:AttuneNone.value,source:SourceWaterdeepDungeonOfTheMadMage.value,description:["When you drink this potion, you gain the following benefits for the next 8 hours: magic can't put you to sleep, and you can remain awake during a long rest and still gain its benefits.","This sweet, amber-colored brew has no effect on creatures that don't require sleep, such as elves."]},{title:"Pressure Capsule",rarity:RarityCommon.value,type:TypePotion.value,attune:AttuneNone.value,source:SourceGhostsOfSaltmarsh.value,description:["This small capsule is made of beeswax blended with sand and a variety of enchanted water plants. A creature who consumes a pressure capsule ignores the effects of swimming at depths greater than 100 feet (see 'Unusual Environments' in chapter 5 of the Dungeon Master's Guide)."]},{title:"Prosthetic Limb",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceTashasCauldronOfEverything.value,description:["This item replaces a lost limb a hand, an arm, a foot, a leg, or a similar body part. While the prosthetic is attached, it functions identically to the part it replaces. You can detach or reattach it as an action, and it can't be removed against your will. It detaches if you die."]},{title:"Rope of Mending",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["You can cut this 50-foot coil of hempen rope into any number of smaller pieces, and then use an action to speak a command word and cause the pieces to knit back together. The pieces must be in contact with each other and not otherwise in use. A rope of mending is forever shortened if a section of it is lost or destroyed."]},{title:"Ruby of the War Mage",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("spellcaster")),source:SourceXanatharsGuideToEverything.value,description:["Etched with eldritch runes, this 1-inch-diameter ruby allows you to use a simple or martial weapon as a spellcasting focus for your spells. For this property to work, you must attach the ruby to the weapon by pressing the ruby against it for at least 10 minutes. Thereafter, the ruby can't be removed unless you detach it as an action or the weapon is destroyed. Not even an Antimagic Field causes it to fall off. The ruby does fall off the weapon if your attunement to the ruby ends."]},{title:"Scribe's Pen",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("a creature with the Mark of Scribing")),source:SourceEberronRisingFromTheLastWar.value,description:["You can use this pen to write on any surface. You decide whether the writing is visible or invisible, but the writing is always visible to a person with the Mark of Scribing.","Any creature with the Mark of Scribing can use an action to touch the invisible writing, making it visible to all.","If you use the pen to write on a creature that isn't a construct, the writing fades after 7 days."]},{title:"Sekolahian Worshipping Statuette",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceGhostsOfSaltmarsh.value,description:["Skillfully carved from sandstone, this 1-foot-tall statuette depicts a shark twisting through the water with its mouth open. If any Tiny sea-dwelling animal is within 1 inch of the statuette's mouth, the shark flashes to life and deals 1 piercing damage to it. The shark can deal damage in this way no more than once per hour."]},{title:"Shield of Expression",rarity:RarityCommon.value,type:new TypeArmor(new Just("shield")),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["The front of this shield is shaped in the likeness of a face. While bearing the shield, you can use a bonus action to alter the face's expression."]},{title:"Shiftweave",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceEberronRisingFromTheLastWar.value,description:["When a suit of shiftweave is created, up to five different outfits can be embedded into the cloth. While wearing the clothing, you can speak its command word as a bonus action to transform your outfit into your choice of one of the other designs contained within it. Regardless of its appearance, the outfit can't be anything but clothing. Although it can duplicate the look of other magical clothing, it doesn't gain their magical properties."]},{title:"Smoldering Armor",rarity:RarityCommon.value,type:new TypeArmor(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["Wisps of harmless, odorless smoke rise from this armor while it is worn."]},{title:"Spell Scroll",rarity:RarityCommon.value,type:TypeScroll.value,attune:AttuneNone.value,source:SourceDMG.value,description:["A spell scroll bears the words of a single spell, written in a mystical cipher. If the spell is on your class's spell list, you can read the scroll and cast its spell without providing any material components. Otherwise, the scroll is unintelligible. Casting the spell by reading the scroll requires the spell's normal casting time. Once the spell is cast, the words on the scroll fade, and it crumbles to dust. If the casting is interrupted, the scroll is not lost.","If the spell is on your class's spell list but of a higher level than you can normally cast, you must make an ability check using your spellcasting ability to determine whether you cast it successfully. The DC equals 10 + the spell's level. On a failed check, the spell disappears from the scroll with no other effect.","Once the spell is cast, the words on the scroll fade, and the scroll itself crumbles to dust.","The level of the spell on the scroll determines the spell's saving throw DC and attack bonus, as well as the scroll's rarity, as shown in the Spell Scroll table.","Cantrip: Common, Save DC 13, Attack bonus +5","1st: Common, Save DC 13, Attack bonus +5","2nd: Uncommon, Save DC 13, Attack bonus +5","3rd: Uncommon, Save DC 15, Attack bonus +7","4th: Rare, Save DC 15, Attack bonus +7","5th: Rare, Save DC 17, Attack bonus +9","6th: Very rare, Save DC 17, Attack bonus +9","7th: Very rare, Save DC 18, Attack bonus +10","8th: Very rare, Save DC 18, Attack bonus +10","9th: Legendary, Save DC 19, Attack bonus +11","A wizard spell on a spell scroll can be copied just as spells in spellbooks can be copied. When a spell is copied from a spell scroll, the copier must succeed on an Intelligence (Arcana) check with a DC equal to 10 + the spell's level. If the check succeeds, the spell is successfully copied. Whether the check succeeds or fails, the spell scroll is destroyed."]},{title:"Spellshard",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceEberronRisingFromTheLastWar.value,description:["This polished Eberron dragonshard fits in the hand and stores information similar to a book. The shard can hold the equivalent of one book that's no more than 320 pages long. A shard can be created blank or already filled with information. When the shard is created, the creator can set a passphrase that must be spoken to access the information stored within.","While holding the shard, you can use an action to open your mind to the shard, seeing its content in your mind. On subsequent rounds, reading the text or scribing new text on blank 'pages' in the shard requires concentration (as if concentrating on a spell) and takes the same amount of time it takes you to read and write normally. Thinking of a particular phrase or topic draws you to the first section in the shard that addresses it.","A wizard can use a spellshard as a spellbook, with the usual cost in gold and time to 'scribe' a spell into the shard."]},{title:"Spellwrought Tattoo",rarity:RarityCommon.value,type:new TypeItem(new Just("tattoo")),attune:AttuneNone.value,source:SourceTashasCauldronOfEverything.value,description:["Produced by a special needle, this magic tattoo contains a single spell of up to 5th level, wrought on your skin by a magic needle. To use the tattoo, you must hold the needle against your skin and speak the command word. The needle turns into ink that becomes the tattoo, which appears on the skin in whatever design you like. Once the tattoo is there, you can cast its spell, requiring no material components. The tattoo glows faintly while you cast the spell and for the spell's duration. Once the spell ends, the tattoo vanishes from your skin.","The level of the spell in the tattoo determines the spell's saving throw DC, attack bonus, spellcasting ability modifier, and the tattoo's rarity, as shown in the Spellwrought Tattoo table.","Cantrip (Common), Spellcasting Ability Modifier +3, Save DC 13, Attack bonus +5","1st (Common), Spellcasting Ability Modifier +3, Save DC 13, Attack bonus +5","2nd (Uncommon), Spellcasting Ability Modifier +3, Save DC 13, Attack bonus +5","3rd (Uncommon), Spellcasting Ability Modifier +4, Save DC 15, Attack bonus +7","4th (Rare), Spellcasting Ability Modifier +4, Save DC 15, Attack bonus +7","5th (Rare), Spellcasting Ability Modifier +5, Save DC 17, Attack bonus +9"]},{title:"Staff of Adornment",rarity:RarityCommon.value,type:TypeStaff.value,attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["If you place an object weighing no more than 1 pound (such as a shard of crystal, an egg, or a stone) above the tip of the staff while holding it, the object floats an inch from the staff's tip and remains there until it is removed or until the staff is no longer in your possession. The staff can have up to three such objects floating over its tip at any given time. While holding the staff, you can make one or more of the objects slowly spin or turn in place."]},{title:"Staff of Birdcalls",rarity:RarityCommon.value,type:TypeStaff.value,attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This wooden staff is decorated with bird carvings. It has 10 charges. While holding it, you can use an action to expend 1 charge from the staff and cause it to create one of the following sounds out to a range of 60 feet: a finch's chirp, a raven's caw, a duck's quack, a chicken's cluck, a goose's honk, a loon's call, a turkey's gobble, a seagull's cry, an owl's hoot, or an eagle's shriek.","The staff regains 1d6 + 4 expended charges daily at dawn. If you expend the last charge, roll a d20. On a 1, the staff explodes in a harmless cloud of bird feathers and is lost forever."]},{title:"Staff of Flowers",rarity:RarityCommon.value,type:TypeStaff.value,attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This wooden staff has 10 charges. While holding it, you can use an action to expend 1 charge from the staff and cause a flower to sprout from a patch of earth or soil within 5 feet of you, or from the staff itself. Unless you choose a specific kind of flower, the staff creates a mild-scented daisy. The flower is harmless and nonmagical, and it grows or withers as a normal flower would.","The staff regains 1d6 + 4 expended charges daily at dawn. If you expend the last charge, roll a d20. On a 1, the staff turns into flower petals and is lost forever."]},{title:"Strixhaven Pennant",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceStrixhaveCurriculumOfChaos.value,description:["This magic pennant bears the symbol of Strixhaven or one of its colleges: Lorehold, Prismari, Quandrix, Silverquill, or Witherbloom. While you wave the pennant, the symbol on it glitters, and the pennant sheds bright light in a 10-foot radius and dim light for an additional 10 feet."]},{title:"Talking Doll",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(Nothing.value),source:SourceXanatharsGuideToEverything.value,description:["While this stuffed doll is within 5 feet of you, you can spend a short rest telling it to say up to six phrases, none of which can be more than six words long, and set a condition under which the doll speaks each phrase. You can also replace old phrases with new ones. Whatever the condition, it must occur within 5 feet of the doll to make it speak. For example, whenever someone picks up the doll, it might say, 'I want a piece of candy.' The doll's phrases are lost when your attunement to the doll ends."]},{title:"Tankard of Plenty",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceTyrannyOfDragons.value,description:["This golden stein is decorated with dancing dwarves and grain patterns. If you speak the command word (“Illefarn”) while grasping the handle, the tankard fills with three pints of rich dwarven ale. The tankard has 3 charges. Using the tankard's property expends 1 charge, and the tankard regains all expended charges daily at dawn."]},{title:"Tankard of Sobriety",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This tankard has a stern face sculpted into one side. You can drink ale, wine, or any other nonmagical alcoholic beverage poured into it without becoming inebriated. The tankard has no effect on magical liquids or harmful substances such as poison."]},{title:"Thermal Cube",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceIcewindDaleRimeOfTheFrostmaiden.value,description:["This 3-inch cube of solid brimstone generates enough dry heat to keep the temperature within 15 feet of it at 95 degrees Fahrenheit (35 degrees Celsius)."]},{title:"Unbreakable Arrow",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This arrow can't be broken, except when it is within an Antimagic Field."]},{title:"Veteran's Cane",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["When you grasp this walking cane and use a bonus action to speak the command word, it transforms into an ordinary longsword and ceases to be magical."]},{title:"Vox Seeker",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:AttuneNone.value,source:SourceExplorersGuideToWildemount.value,description:["This clockwork device resembles a metal crab the size of a dinner plate. Every action used to wind up the device allows it to operate for 1 minute, to a maximum of 10 minutes. While operational, the item uses the accompanying vox seeker stat block. This automaton is under the DM's control. A vox seeker reduced to 0 hit points is destroyed.","Vox Seeker - Tiny construct, unaligned","Armor Class: 14 (natural armor)","Hit Points: 7 (2d4 + 2)","Speed: 20 ft., climb 20 ft.","STR: 2 (-4). DEX: 10 (+0). CON: 12 (+1). INT: 1 (-5). WIS: 10 (+0). CHA: 1 (-5).","Damage Immunities: poison, psychic","Condition Immunities: blinded, charmed, deafened, exhaustion, frightened, paralyzed, petrified, poisoned","Senses: blindsight 60 ft. (blind beyond this radius), passive Perception 10","Languages: —","Challenge: 1/8 (25 XP)","Voice Lock. The vox seeker must move toward and attack the source of the nearest voice within 60 feet of it, to the exclusion of all other targets, for as long as it remains operational.","Spider Climb. The vox seeker can climb difficult surfaces, including upside down on ceilings, without needing to make an ability check.","Actions: Pincer. Melee Weapon Attack: +2 to hit, reach 5 ft., one target. Hit: 2 (1d4) piercing damage plus 3 lightning damage."]},{title:"Walloping Ammunition",rarity:RarityCommon.value,type:new TypeWeapon(new Just("any ammunition")),attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This ammunition packs a wallop. A creature hit by the ammunition must succeed on a DC 10 Strength saving throw or be knocked prone."]},{title:"Wand of Conducting",rarity:RarityCommon.value,type:TypeWand.value,attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This wand has 3 charges. While holding it, you can use an action to expend 1 of its charges and create orchestral music by waving it around. The music can be heard out to a range of 60 feet and ends when you stop waving the wand.","The wand regains all expended charges daily at dawn. If you expend the wand's last charge, roll a d20. On a 1, a sad tuba sound plays as the wand crumbles to dust and is destroyed."]},{title:"Wand of Pyrotechnics",rarity:RarityCommon.value,type:TypeWand.value,attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This wand has 7 charges. While holding it, you can use an action to expend 1 of its charges and create a harmless burst of multicolored light at a point you can see up to 60 feet away. The burst of light is accompanied by a crackling noise that can be heard up to 300 feet away. The light is as bright as a torch flame but lasts only a second.","The wand regains 1d6 + 1 expended charges daily at dawn. If you expend the wand's last charge, roll a d20. On a 1, the wand erupts in a harmless pyrotechnic display and is destroyed."]},{title:"Wand of Scowls",rarity:RarityCommon.value,type:TypeWand.value,attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This wand has 3 charges. While holding it, you can use an action to expend 1 of its charges and target a humanoid you can see within 30 feet of you. The target must succeed on a DC 10 Charisma saving throw or be forced to scowl for 1 minute.","The wand regains all expended charges daily at dawn. If you expend the wand's last charge, roll a d20. On a 1, the wand transforms into a Wand of Smiles."]},{title:"Wand of Smiles",rarity:RarityCommon.value,type:TypeWand.value,attune:AttuneNone.value,source:SourceXanatharsGuideToEverything.value,description:["This wand has 3 charges. While holding it, you can use an action to expend 1 of its charges and target a humanoid you can see within 30 feet of you. The target must succeed on a DC 10 Charisma saving throw or be forced to smile for 1 minute.","The wand regains all expended charges daily at dawn. If you expend the wand's last charge, roll a d20. On a 1, the wand transforms into a Wand of Scowls."]},{title:"Wand Sheath",rarity:RarityCommon.value,type:new TypeItem(Nothing.value),attune:new Attune(new Just("warforged")),source:SourceEberronRisingFromTheLastWar.value,description:["A wand sheath clamps onto your arm and imparts the following benefits:","* The wand sheath can't be removed from you while you're attuned to it.","* You can insert a wand into the sheath as an action. The sheath can hold only one wand at a time.","* You can retract or extend a wand from the sheath as a bonus action. While the wand is extended, you can use it as if you were holding it, but your hand remains free.","If a sheathed wand requires attunement, you must attune to the wand before you can use it. However, the wand sheath and the attached wand count as a single magic item with regard to the number of magic items you can attune to. If you remove the wand from the sheath, your attunement to the wand ends."]}]}();var artifactItems=function(){return[{title:"Adze of Annam",rarity:RarityArtifact.value,type:new TypeWeapon(new Just("Greataxe")),attune:new Attune(Nothing.value),source:SourceBigbyPresentsGloryOfTheGiants.value,description:["This massive adze is said to have been wielded by All-Father Annam, not as a weapon but as the tool he used to shape the various worlds of the Material Plane eons ago.","Random Properties. The adze has the following random properties, determined by rolling on the appropriate table in the Dungeon Master's Guide:","* 2 minor beneficial propties","* 1 major beneficial property","* 2 minor detrimental properties","Magic Weapon. When a creature attunes to the adze, the artifact magically adjusts its size so that creature can wield it as a greataxe. The adze is a magic weapon that grants a +3 bonus to attack and damage rolls made with it. On a hit, the adze deals an additional 3d12 force damage. It also deals double damage to objects and structures.","Divine Mattock. As an action, you can call upon the might of the All-Father and use the adze to cast Move Earth or Fabricate. Once this property is used, it can't be used again until the next dawn."]}]}();var magicItems=append2(commonItems)(append2(uncommonItems)(append2(rareItems)(append2(veryRareItems)(append2(legendaryItems)(append2(artifactItems)(uniqueItems))))));var unshow2=unshow(unshowRarity);var unshow1=unshow(unshowItemType);var unshow22=unshow(unshowItemSource);var show3=show(showItemType);var show1=show(showRarity);var toNodeArray2=toNodeArray(toNodeHtmlHtml);var article_2=article_(toNodeArray2);var details_2=details_(toNodeArray2);var summary_2=summary_(toNodeArray2);var toNodeArray1=toNodeArray(toNodeNodeDataNodeData);var div4=div3(toNodeArray1)(toNodeArray2);var class$prime2=class$prime(toClassListString);var strong_2=strong_(toNodeArray2);var showShort2=showShort(showShortItemType);var show22=show(showItemAttunement);var show32=show(showItemSource);var append1=append(semigroupArray);var hr_2=hr_(toNodeArray2);var em_2=em_(toNodeStringHtml);var map5=map(functorArray);var option2=option(toNodeArray1)(toNodeStringHtml);var select2=select(toNodeArray1)(toNodeArray2);var h6_2=h6_(toNodeArray2);var label2=label(toNodeArray1)(toNodeArray2);var input2=input(toNodeArray1);var compare2=compare(ordString);var div_2=div_(toNodeArray2);var main2=main(toNodeStringNodeData)(toNodeArray2);var ChangeTitle=function(){function ChangeTitle2(value0){this.value0=value0}ChangeTitle2.create=function(value0){return new ChangeTitle2(value0)};return ChangeTitle2}();var ChangeRarity=function(){function ChangeRarity2(value0){this.value0=value0}ChangeRarity2.create=function(value0){return new ChangeRarity2(value0)};return ChangeRarity2}();var ChangeType=function(){function ChangeType2(value0){this.value0=value0}ChangeType2.create=function(value0){return new ChangeType2(value0)};return ChangeType2}();var ChangeAttune=function(){function ChangeAttune2(value0){this.value0=value0}ChangeAttune2.create=function(value0){return new ChangeAttune2(value0)};return ChangeAttune2}();var ChangeSource=function(){function ChangeSource2(value0){this.value0=value0}ChangeSource2.create=function(value0){return new ChangeSource2(value0)};return ChangeSource2}();var update=function(v){return function(v1){if(v1 instanceof ChangeTitle){return new Tuple({fltAttunement:v.fltAttunement,fltRarity:v.fltRarity,fltSource:v.fltSource,fltType:v.fltType,fltTitle:v1.value0},[])}if(v1 instanceof ChangeRarity){return new Tuple({fltAttunement:v.fltAttunement,fltSource:v.fltSource,fltTitle:v.fltTitle,fltType:v.fltType,fltRarity:unshow2(v1.value0)},[])}if(v1 instanceof ChangeType){return new Tuple({fltAttunement:v.fltAttunement,fltRarity:v.fltRarity,fltSource:v.fltSource,fltTitle:v.fltTitle,fltType:unshow1(v1.value0)},[])}if(v1 instanceof ChangeAttune){return new Tuple({fltRarity:v.fltRarity,fltSource:v.fltSource,fltTitle:v.fltTitle,fltType:v.fltType,fltAttunement:toAttune(v1.value0)},[])}if(v1 instanceof ChangeSource){return new Tuple({fltAttunement:v.fltAttunement,fltRarity:v.fltRarity,fltTitle:v.fltTitle,fltType:v.fltType,fltSource:unshow22(v1.value0)},[])}throw new Error("Failed pattern match at MagicItemApp (line 49, column 1 - line 49, column 70): "+[v.constructor.name,v1.constructor.name])}};var showCaption=function(item){return show3(item.type)+(", "+(show1(item.rarity)+showFullAttune(item.attune)))};var viewItem=function(item){return article_2([details_2([summary_2([div4([class$prime2("grid")])([div4([class$prime2("s3")])([strong_2([text(item.title)])]),div4([class$prime2("s2")])([text(show1(item.rarity))]),div4([class$prime2("s2")])([text(showShort2(item.type))]),div4([class$prime2("s2")])([text(show22(item.attune))]),div4([class$prime2("s3")])([text(show32(item.source))])])]),div4([class$prime2("grid")])(append1([div4([class$prime2("s12")])([hr_2([text("")])]),div4([class$prime2("s8")])([em_2(showCaption(item))]),div4([class$prime2("s4")])([text(show32(item.source))])])(map5((function(s){return div4([class$prime2("s12")])([text(s)])}))(item.description)))])])};var mkSelect=function(dictShow){var show4=show(dictShow);return function(dictEq){var eq2=eq(eqMaybe(dictEq));return function(id3){return function(msg){return function(opts){return function(value2){var nullOption=option2([value("All"),selected(eq2(value2)(Nothing.value))])("All");var mkOption=function(x){return option2([value(show4(x)),selected(eq2(value2)(new Just(x)))])(show4(x))};return select2([id(id3),onInput(msg),width("90%")])(append1([nullOption])(map5(mkOption)(opts)))}}}}}};var mkSelect1=mkSelect(showRarity)(eqRarity);var mkSelect2=mkSelect(showItemType)(eqItemType);var mkSelect3=mkSelect(showItemAttunement)(eqItemAttunement);var mkSelect4=mkSelect(showItemSource)(eqItemSource);var viewFilter=function(model){return article_2([div4([class$prime2("grid")])([div4([class$prime2("s12")])([h6_2([text("Filters:")])]),div4([class$prime2("s3")])([label2([$$for("title-filter")])([text("Title:")]),input2([id("title-filter"),type$prime("text"),value(model.fltTitle),onInput(ChangeTitle.create)])]),div4([class$prime2("s2")])([label2([$$for("rarity-filter")])([text("Rarity:")]),mkSelect1("rarity-filter")(ChangeRarity.create)(allRarities)(model.fltRarity)]),div4([class$prime2("s2")])([label2([$$for("type-filter")])([text("Type:")]),mkSelect2("type-filter")(ChangeType.create)(allTypes)(model.fltType)]),div4([class$prime2("s2")])([label2([$$for("attune-filter")])([text("Attune:")]),mkSelect3("attune-filter")(ChangeAttune.create)(allAttunes)(model.fltAttunement)]),div4([class$prime2("s3")])([label2([$$for("source-filter")])([text("Source:")]),mkSelect4("source-filter")(ChangeSource.create)(allSources)(model.fltSource)])])])};var init3=function(){return new Tuple({fltTitle:"",fltRarity:Nothing.value,fltType:Nothing.value,fltAttunement:Nothing.value,fltSource:Nothing.value},[])}();var filterTitle=function(v){return function(v1){if(v===""){return true}return contains(toLower(v))(toLower(v1))}};var filterMaybe=function(dictEq){var eq2=eq(dictEq);return function(v){return function(v1){if(v instanceof Nothing){return true}if(v instanceof Just){return eq2(v.value0)(v1)}throw new Error("Failed pattern match at MagicItemApp (line 105, column 1 - line 105, column 57): "+[v.constructor.name,v1.constructor.name])}}};var filterMaybe1=filterMaybe(eqRarity);var filterMaybe2=filterMaybe(eqItemType);var filterMaybe3=filterMaybe(eqItemAttunement);var filterMaybe4=filterMaybe(eqItemSource);var filterItem=function(model){return function(item){return item.title!==""&&(filterTitle(model.fltTitle)(item.title)&&(filterMaybe1(model.fltRarity)(item.rarity)&&(filterMaybe2(model.fltType)(item.type)&&(filterMaybe3(model.fltAttunement)(item.attune)&&filterMaybe4(model.fltSource)(item.source)))))}};var viewItems=function(model){var items=sortBy((function(a){return function(b){return compare2(a.title)(b.title)}}))(filter(filterItem(model))(magicItems));return div_2(map5(viewItem)(items))};var view=function(model){return main2("main")([viewFilter(model),hr_2([text("")]),viewItems(model)])};var main3=mount_("body")({init:init3,subscribe:[],update:update,view:view});main3()})();
